{"ast":null,"code":"import{getBezierPath,EdgeText}from'reactflow';import{useDispatch}from'react-redux';import{useContext}from'react';import{SET_DIRTY}from'store/actions';import{flowContext}from'store/context/ReactFlowContext';import'./index.css';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const foreignObjectSize=40;const ButtonEdge=_ref=>{let{id,sourceX,sourceY,targetX,targetY,sourcePosition,targetPosition,style={},data,markerEnd}=_ref;const[edgePath,edgeCenterX,edgeCenterY]=getBezierPath({sourceX,sourceY,sourcePosition,targetX,targetY,targetPosition});const{deleteEdge}=useContext(flowContext);const dispatch=useDispatch();const onEdgeClick=(evt,id)=>{evt.stopPropagation();deleteEdge(id);dispatch({type:SET_DIRTY});};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(\"path\",{id:id,style:style,className:\"react-flow__edge-path\",d:edgePath,markerEnd:markerEnd}),data&&data.label&&/*#__PURE__*/_jsx(EdgeText,{x:sourceX+10,y:sourceY+10,label:data.label,labelStyle:{fill:'black'},labelBgStyle:{fill:'transparent'},labelBgPadding:[2,4],labelBgBorderRadius:2}),/*#__PURE__*/_jsx(\"foreignObject\",{width:foreignObjectSize,height:foreignObjectSize,x:edgeCenterX-foreignObjectSize/2,y:edgeCenterY-foreignObjectSize/2,className:\"edgebutton-foreignobject\",requiredExtensions:\"http://www.w3.org/1999/xhtml\",children:/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(\"button\",{className:\"edgebutton\",onClick:event=>onEdgeClick(event,id),children:\"\\xD7\"})})})]});};export default ButtonEdge;","map":{"version":3,"names":["getBezierPath","EdgeText","useDispatch","useContext","SET_DIRTY","flowContext","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","foreignObjectSize","ButtonEdge","_ref","id","sourceX","sourceY","targetX","targetY","sourcePosition","targetPosition","style","data","markerEnd","edgePath","edgeCenterX","edgeCenterY","deleteEdge","dispatch","onEdgeClick","evt","stopPropagation","type","children","className","d","label","x","y","labelStyle","fill","labelBgStyle","labelBgPadding","labelBgBorderRadius","width","height","requiredExtensions","onClick","event"],"sources":["D:/Flowise/packages/ui/src/views/canvas/ButtonEdge.js"],"sourcesContent":["import { getBezierPath, EdgeText } from 'reactflow'\r\nimport PropTypes from 'prop-types'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useContext } from 'react'\r\nimport { SET_DIRTY } from 'store/actions'\r\nimport { flowContext } from 'store/context/ReactFlowContext'\r\n\r\nimport './index.css'\r\n\r\nconst foreignObjectSize = 40\r\n\r\nconst ButtonEdge = ({ id, sourceX, sourceY, targetX, targetY, sourcePosition, targetPosition, style = {}, data, markerEnd }) => {\r\n    const [edgePath, edgeCenterX, edgeCenterY] = getBezierPath({\r\n        sourceX,\r\n        sourceY,\r\n        sourcePosition,\r\n        targetX,\r\n        targetY,\r\n        targetPosition\r\n    })\r\n\r\n    const { deleteEdge } = useContext(flowContext)\r\n\r\n    const dispatch = useDispatch()\r\n\r\n    const onEdgeClick = (evt, id) => {\r\n        evt.stopPropagation()\r\n        deleteEdge(id)\r\n        dispatch({ type: SET_DIRTY })\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <path id={id} style={style} className='react-flow__edge-path' d={edgePath} markerEnd={markerEnd} />\r\n            {data && data.label && (\r\n                <EdgeText\r\n                    x={sourceX + 10}\r\n                    y={sourceY + 10}\r\n                    label={data.label}\r\n                    labelStyle={{ fill: 'black' }}\r\n                    labelBgStyle={{ fill: 'transparent' }}\r\n                    labelBgPadding={[2, 4]}\r\n                    labelBgBorderRadius={2}\r\n                />\r\n            )}\r\n            <foreignObject\r\n                width={foreignObjectSize}\r\n                height={foreignObjectSize}\r\n                x={edgeCenterX - foreignObjectSize / 2}\r\n                y={edgeCenterY - foreignObjectSize / 2}\r\n                className='edgebutton-foreignobject'\r\n                requiredExtensions='http://www.w3.org/1999/xhtml'\r\n            >\r\n                <div>\r\n                    <button className='edgebutton' onClick={(event) => onEdgeClick(event, id)}>\r\n                        Ã—\r\n                    </button>\r\n                </div>\r\n            </foreignObject>\r\n        </>\r\n    )\r\n}\r\n\r\nButtonEdge.propTypes = {\r\n    id: PropTypes.string,\r\n    sourceX: PropTypes.number,\r\n    sourceY: PropTypes.number,\r\n    targetX: PropTypes.number,\r\n    targetY: PropTypes.number,\r\n    sourcePosition: PropTypes.any,\r\n    targetPosition: PropTypes.any,\r\n    style: PropTypes.object,\r\n    data: PropTypes.object,\r\n    markerEnd: PropTypes.any\r\n}\r\n\r\nexport default ButtonEdge\r\n"],"mappings":"AAAA,OAASA,aAAa,CAAEC,QAAQ,KAAQ,WAAW,CAEnD,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,UAAU,KAAQ,OAAO,CAClC,OAASC,SAAS,KAAQ,eAAe,CACzC,OAASC,WAAW,KAAQ,gCAAgC,CAE5D,MAAO,aAAa,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,QAAA,IAAAC,SAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEpB,KAAM,CAAAC,iBAAiB,CAAG,EAAE,CAE5B,KAAM,CAAAC,UAAU,CAAGC,IAAA,EAA6G,IAA5G,CAAEC,EAAE,CAAEC,OAAO,CAAEC,OAAO,CAAEC,OAAO,CAAEC,OAAO,CAAEC,cAAc,CAAEC,cAAc,CAAEC,KAAK,CAAG,CAAC,CAAC,CAAEC,IAAI,CAAEC,SAAU,CAAC,CAAAV,IAAA,CACvH,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAEC,WAAW,CAAC,CAAG3B,aAAa,CAAC,CACvDgB,OAAO,CACPC,OAAO,CACPG,cAAc,CACdF,OAAO,CACPC,OAAO,CACPE,cACJ,CAAC,CAAC,CAEF,KAAM,CAAEO,UAAW,CAAC,CAAGzB,UAAU,CAACE,WAAW,CAAC,CAE9C,KAAM,CAAAwB,QAAQ,CAAG3B,WAAW,CAAC,CAAC,CAE9B,KAAM,CAAA4B,WAAW,CAAGA,CAACC,GAAG,CAAEhB,EAAE,GAAK,CAC7BgB,GAAG,CAACC,eAAe,CAAC,CAAC,CACrBJ,UAAU,CAACb,EAAE,CAAC,CACdc,QAAQ,CAAC,CAAEI,IAAI,CAAE7B,SAAU,CAAC,CAAC,CACjC,CAAC,CAED,mBACIO,KAAA,CAAAF,SAAA,EAAAyB,QAAA,eACI3B,IAAA,SAAMQ,EAAE,CAAEA,EAAG,CAACO,KAAK,CAAEA,KAAM,CAACa,SAAS,CAAC,uBAAuB,CAACC,CAAC,CAAEX,QAAS,CAACD,SAAS,CAAEA,SAAU,CAAE,CAAC,CAClGD,IAAI,EAAIA,IAAI,CAACc,KAAK,eACf9B,IAAA,CAACN,QAAQ,EACLqC,CAAC,CAAEtB,OAAO,CAAG,EAAG,CAChBuB,CAAC,CAAEtB,OAAO,CAAG,EAAG,CAChBoB,KAAK,CAAEd,IAAI,CAACc,KAAM,CAClBG,UAAU,CAAE,CAAEC,IAAI,CAAE,OAAQ,CAAE,CAC9BC,YAAY,CAAE,CAAED,IAAI,CAAE,aAAc,CAAE,CACtCE,cAAc,CAAE,CAAC,CAAC,CAAE,CAAC,CAAE,CACvBC,mBAAmB,CAAE,CAAE,CAC1B,CACJ,cACDrC,IAAA,kBACIsC,KAAK,CAAEjC,iBAAkB,CACzBkC,MAAM,CAAElC,iBAAkB,CAC1B0B,CAAC,CAAEZ,WAAW,CAAGd,iBAAiB,CAAG,CAAE,CACvC2B,CAAC,CAAEZ,WAAW,CAAGf,iBAAiB,CAAG,CAAE,CACvCuB,SAAS,CAAC,0BAA0B,CACpCY,kBAAkB,CAAC,8BAA8B,CAAAb,QAAA,cAEjD3B,IAAA,QAAA2B,QAAA,cACI3B,IAAA,WAAQ4B,SAAS,CAAC,YAAY,CAACa,OAAO,CAAGC,KAAK,EAAKnB,WAAW,CAACmB,KAAK,CAAElC,EAAE,CAAE,CAAAmB,QAAA,CAAC,MAE3E,CAAQ,CAAC,CACR,CAAC,CACK,CAAC,EAClB,CAAC,CAEX,CAAC,CAeD,cAAe,CAAArB,UAAU"},"metadata":{},"sourceType":"module","externalDependencies":[]}