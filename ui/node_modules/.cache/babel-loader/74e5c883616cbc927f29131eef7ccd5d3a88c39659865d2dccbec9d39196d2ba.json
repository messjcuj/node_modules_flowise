{"ast":null,"code":"import{useState,useEffect}from'react';import Dialog from'@mui/material/Dialog';import Box from'@mui/material/Box';import Button from'@mui/material/Button';import TextField from'@mui/material/TextField';import Chip from'@mui/material/Chip';import{DialogActions,DialogContent,DialogTitle,Typography}from'@mui/material';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const TagDialog=_ref=>{let{isOpen,dialogProps,onClose,onSubmit}=_ref;const[inputValue,setInputValue]=useState('');const[categoryValues,setCategoryValues]=useState([]);const handleInputChange=event=>{setInputValue(event.target.value);};const handleInputKeyDown=event=>{if(event.key==='Enter'&&inputValue.trim()){event.preventDefault();if(!categoryValues.includes(inputValue)){setCategoryValues([...categoryValues,inputValue]);setInputValue('');}}};const handleDeleteTag=categoryToDelete=>{setCategoryValues(categoryValues.filter(category=>category!==categoryToDelete));};const handleSubmit=event=>{event.preventDefault();let newCategories=[...categoryValues];if(inputValue.trim()&&!categoryValues.includes(inputValue)){newCategories=[...newCategories,inputValue];setCategoryValues(newCategories);}onSubmit(newCategories);};useEffect(()=>{if(dialogProps.category)setCategoryValues(dialogProps.category);return()=>{setInputValue('');setCategoryValues([]);};},[dialogProps]);return/*#__PURE__*/_jsxs(Dialog,{fullWidth:true,maxWidth:\"xs\",open:isOpen,onClose:onClose,\"aria-labelledby\":\"category-dialog-title\",\"aria-describedby\":\"category-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{fontSize:'1rem'},id:\"alert-dialog-title\",children:\"Set Chatflow Category Tags\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsxs(\"form\",{onSubmit:handleSubmit,children:[categoryValues.length>0&&/*#__PURE__*/_jsx(\"div\",{style:{marginBottom:10},children:categoryValues.map((category,index)=>/*#__PURE__*/_jsx(Chip,{label:category,onDelete:()=>handleDeleteTag(category),style:{marginRight:5,marginBottom:5}},index))}),/*#__PURE__*/_jsx(TextField,{sx:{mt:2},fullWidth:true,value:inputValue,onChange:handleInputChange,onKeyDown:handleInputKeyDown,label:\"Add a tag\",variant:\"outlined\"}),/*#__PURE__*/_jsx(Typography,{variant:\"body2\",sx:{fontStyle:'italic',mt:1},color:\"text.secondary\",children:\"Enter a tag and press enter to add it to the list. You can add as many tags as you want.\"})]})})}),/*#__PURE__*/_jsxs(DialogActions,{children:[/*#__PURE__*/_jsx(Button,{onClick:onClose,children:\"Cancel\"}),/*#__PURE__*/_jsx(Button,{variant:\"contained\",onClick:handleSubmit,children:\"Submit\"})]})]});};export default TagDialog;","map":{"version":3,"names":["useState","useEffect","Dialog","Box","Button","TextField","Chip","DialogActions","DialogContent","DialogTitle","Typography","jsx","_jsx","jsxs","_jsxs","TagDialog","_ref","isOpen","dialogProps","onClose","onSubmit","inputValue","setInputValue","categoryValues","setCategoryValues","handleInputChange","event","target","value","handleInputKeyDown","key","trim","preventDefault","includes","handleDeleteTag","categoryToDelete","filter","category","handleSubmit","newCategories","fullWidth","maxWidth","open","children","sx","fontSize","id","length","style","marginBottom","map","index","label","onDelete","marginRight","mt","onChange","onKeyDown","variant","fontStyle","color","onClick"],"sources":["D:/Flowise/packages/ui/src/ui-component/dialog/TagDialog.js"],"sourcesContent":["import { useState, useEffect } from 'react'\r\nimport Dialog from '@mui/material/Dialog'\r\nimport Box from '@mui/material/Box'\r\nimport Button from '@mui/material/Button'\r\nimport TextField from '@mui/material/TextField'\r\nimport Chip from '@mui/material/Chip'\r\nimport PropTypes from 'prop-types'\r\nimport { DialogActions, DialogContent, DialogTitle, Typography } from '@mui/material'\r\n\r\nconst TagDialog = ({ isOpen, dialogProps, onClose, onSubmit }) => {\r\n    const [inputValue, setInputValue] = useState('')\r\n    const [categoryValues, setCategoryValues] = useState([])\r\n\r\n    const handleInputChange = (event) => {\r\n        setInputValue(event.target.value)\r\n    }\r\n\r\n    const handleInputKeyDown = (event) => {\r\n        if (event.key === 'Enter' && inputValue.trim()) {\r\n            event.preventDefault()\r\n            if (!categoryValues.includes(inputValue)) {\r\n                setCategoryValues([...categoryValues, inputValue])\r\n                setInputValue('')\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleDeleteTag = (categoryToDelete) => {\r\n        setCategoryValues(categoryValues.filter((category) => category !== categoryToDelete))\r\n    }\r\n\r\n    const handleSubmit = (event) => {\r\n        event.preventDefault()\r\n        let newCategories = [...categoryValues]\r\n        if (inputValue.trim() && !categoryValues.includes(inputValue)) {\r\n            newCategories = [...newCategories, inputValue]\r\n            setCategoryValues(newCategories)\r\n        }\r\n        onSubmit(newCategories)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (dialogProps.category) setCategoryValues(dialogProps.category)\r\n\r\n        return () => {\r\n            setInputValue('')\r\n            setCategoryValues([])\r\n        }\r\n    }, [dialogProps])\r\n\r\n    return (\r\n        <Dialog\r\n            fullWidth\r\n            maxWidth='xs'\r\n            open={isOpen}\r\n            onClose={onClose}\r\n            aria-labelledby='category-dialog-title'\r\n            aria-describedby='category-dialog-description'\r\n        >\r\n            <DialogTitle sx={{ fontSize: '1rem' }} id='alert-dialog-title'>\r\n                Set Chatflow Category Tags\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <Box>\r\n                    <form onSubmit={handleSubmit}>\r\n                        {categoryValues.length > 0 && (\r\n                            <div style={{ marginBottom: 10 }}>\r\n                                {categoryValues.map((category, index) => (\r\n                                    <Chip\r\n                                        key={index}\r\n                                        label={category}\r\n                                        onDelete={() => handleDeleteTag(category)}\r\n                                        style={{ marginRight: 5, marginBottom: 5 }}\r\n                                    />\r\n                                ))}\r\n                            </div>\r\n                        )}\r\n                        <TextField\r\n                            sx={{ mt: 2 }}\r\n                            fullWidth\r\n                            value={inputValue}\r\n                            onChange={handleInputChange}\r\n                            onKeyDown={handleInputKeyDown}\r\n                            label='Add a tag'\r\n                            variant='outlined'\r\n                        />\r\n                        <Typography variant='body2' sx={{ fontStyle: 'italic', mt: 1 }} color='text.secondary'>\r\n                            Enter a tag and press enter to add it to the list. You can add as many tags as you want.\r\n                        </Typography>\r\n                    </form>\r\n                </Box>\r\n            </DialogContent>\r\n            <DialogActions>\r\n                <Button onClick={onClose}>Cancel</Button>\r\n                <Button variant='contained' onClick={handleSubmit}>\r\n                    Submit\r\n                </Button>\r\n            </DialogActions>\r\n        </Dialog>\r\n    )\r\n}\r\n\r\nTagDialog.propTypes = {\r\n    isOpen: PropTypes.bool,\r\n    dialogProps: PropTypes.object,\r\n    onClose: PropTypes.func,\r\n    onSubmit: PropTypes.func\r\n}\r\n\r\nexport default TagDialog\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}