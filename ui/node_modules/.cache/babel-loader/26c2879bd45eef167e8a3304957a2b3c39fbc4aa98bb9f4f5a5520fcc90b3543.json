{"ast":null,"code":"import{useState}from'react';import{useSelector}from'react-redux';import{Popper,FormControl,TextField,Box,Typography}from'@mui/material';import Autocomplete,{autocompleteClasses}from'@mui/material/Autocomplete';import{styled}from'@mui/material/styles';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const StyledPopper=styled(Popper)({boxShadow:'0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)',borderRadius:'10px',[\"& .\".concat(autocompleteClasses.listbox)]:{boxSizing:'border-box','& ul':{padding:10,margin:10}}});export const Dropdown=_ref=>{let{name,value,options,onSelect,disabled=false,disableClearable=false}=_ref;const customization=useSelector(state=>state.customization);const findMatchingOptions=function(){let options=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];let value=arguments.length>1?arguments[1]:undefined;return options.find(option=>option.name===value);};const getDefaultOptionValue=()=>'';let[internalValue,setInternalValue]=useState(value!==null&&value!==void 0?value:'choose an option');return/*#__PURE__*/_jsx(FormControl,{sx:{mt:1,width:'100%'},size:\"small\",children:/*#__PURE__*/_jsx(Autocomplete,{id:name,disabled:disabled,disableClearable:disableClearable,size:\"small\",options:options||[],value:findMatchingOptions(options,internalValue)||getDefaultOptionValue(),onChange:(e,selection)=>{const value=selection?selection.name:'';setInternalValue(value);onSelect(value);},PopperComponent:StyledPopper,renderInput:params=>/*#__PURE__*/_jsx(TextField,{...params,value:internalValue}),renderOption:(props,option)=>/*#__PURE__*/_jsx(Box,{component:\"li\",...props,children:/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'column'},children:[/*#__PURE__*/_jsx(Typography,{variant:\"h5\",children:option.label}),option.description&&/*#__PURE__*/_jsx(Typography,{sx:{color:customization.isDarkMode?'#9e9e9e':''},children:option.description})]})})})});};","map":{"version":3,"names":["useState","useSelector","Popper","FormControl","TextField","Box","Typography","Autocomplete","autocompleteClasses","styled","jsx","_jsx","jsxs","_jsxs","StyledPopper","boxShadow","borderRadius","concat","listbox","boxSizing","padding","margin","Dropdown","_ref","name","value","options","onSelect","disabled","disableClearable","customization","state","findMatchingOptions","arguments","length","undefined","find","option","getDefaultOptionValue","internalValue","setInternalValue","sx","mt","width","size","children","id","onChange","e","selection","PopperComponent","renderInput","params","renderOption","props","component","style","display","flexDirection","variant","label","description","color","isDarkMode"],"sources":["D:/Flowise/packages/ui/src/ui-component/dropdown/Dropdown.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { useSelector } from 'react-redux'\r\n\r\nimport { Popper, FormControl, TextField, Box, Typography } from '@mui/material'\r\nimport Autocomplete, { autocompleteClasses } from '@mui/material/Autocomplete'\r\nimport { styled } from '@mui/material/styles'\r\nimport PropTypes from 'prop-types'\r\n\r\nconst StyledPopper = styled(Popper)({\r\n    boxShadow: '0px 8px 10px -5px rgb(0 0 0 / 20%), 0px 16px 24px 2px rgb(0 0 0 / 14%), 0px 6px 30px 5px rgb(0 0 0 / 12%)',\r\n    borderRadius: '10px',\r\n    [`& .${autocompleteClasses.listbox}`]: {\r\n        boxSizing: 'border-box',\r\n        '& ul': {\r\n            padding: 10,\r\n            margin: 10\r\n        }\r\n    }\r\n})\r\n\r\nexport const Dropdown = ({ name, value, options, onSelect, disabled = false, disableClearable = false }) => {\r\n    const customization = useSelector((state) => state.customization)\r\n    const findMatchingOptions = (options = [], value) => options.find((option) => option.name === value)\r\n    const getDefaultOptionValue = () => ''\r\n    let [internalValue, setInternalValue] = useState(value ?? 'choose an option')\r\n\r\n    return (\r\n        <FormControl sx={{ mt: 1, width: '100%' }} size='small'>\r\n            <Autocomplete\r\n                id={name}\r\n                disabled={disabled}\r\n                disableClearable={disableClearable}\r\n                size='small'\r\n                options={options || []}\r\n                value={findMatchingOptions(options, internalValue) || getDefaultOptionValue()}\r\n                onChange={(e, selection) => {\r\n                    const value = selection ? selection.name : ''\r\n                    setInternalValue(value)\r\n                    onSelect(value)\r\n                }}\r\n                PopperComponent={StyledPopper}\r\n                renderInput={(params) => <TextField {...params} value={internalValue} />}\r\n                renderOption={(props, option) => (\r\n                    <Box component='li' {...props}>\r\n                        <div style={{ display: 'flex', flexDirection: 'column' }}>\r\n                            <Typography variant='h5'>{option.label}</Typography>\r\n                            {option.description && (\r\n                                <Typography sx={{ color: customization.isDarkMode ? '#9e9e9e' : '' }}>{option.description}</Typography>\r\n                            )}\r\n                        </div>\r\n                    </Box>\r\n                )}\r\n            />\r\n        </FormControl>\r\n    )\r\n}\r\n\r\nDropdown.propTypes = {\r\n    name: PropTypes.string,\r\n    value: PropTypes.string,\r\n    options: PropTypes.array,\r\n    onSelect: PropTypes.func,\r\n    disabled: PropTypes.bool,\r\n    disableClearable: PropTypes.bool\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}