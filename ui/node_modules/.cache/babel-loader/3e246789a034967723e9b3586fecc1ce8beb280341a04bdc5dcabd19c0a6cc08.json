{"ast":null,"code":"import{useState}from'react';// material-ui\nimport{styled,useTheme}from'@mui/material/styles';import{Box,Typography,Divider,Button}from'@mui/material';// project imports\nimport MainCard from'ui-component/cards/MainCard';import NodeInputHandler from'views/canvas/NodeInputHandler';import NodeOutputHandler from'views/canvas/NodeOutputHandler';import AdditionalParamsDialog from'ui-component/dialog/AdditionalParamsDialog';// const\nimport{baseURL}from'store/constant';import LlamaindexPNG from'assets/images/llamaindex.png';import{jsx as _jsx}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const CardWrapper=styled(MainCard)(_ref=>{let{theme}=_ref;return{background:theme.palette.card.main,color:theme.darkTextPrimary,border:'solid 1px',borderColor:theme.palette.primary[200]+75,width:'300px',height:'auto',padding:'10px',boxShadow:'0 2px 14px 0 rgb(32 40 45 / 8%)','&:hover':{borderColor:theme.palette.primary.main}};});// ===========================|| CANVAS NODE ||=========================== //\nconst MarketplaceCanvasNode=_ref2=>{let{data}=_ref2;const theme=useTheme();const[showDialog,setShowDialog]=useState(false);const[dialogProps,setDialogProps]=useState({});const onDialogClicked=()=>{const dialogProps={data,inputParams:data.inputParams.filter(param=>param.additionalParams),disabled:true,confirmButtonName:'Save',cancelButtonName:'Cancel'};setDialogProps(dialogProps);setShowDialog(true);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(CardWrapper,{content:false,sx:{padding:0,borderColor:data.selected?theme.palette.primary.main:theme.palette.text.secondary},border:false,children:/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsxs(\"div\",{style:{display:'flex',flexDirection:'row',alignItems:'center'},children:[/*#__PURE__*/_jsx(Box,{style:{width:50,marginRight:10,padding:5},children:/*#__PURE__*/_jsx(\"div\",{style:{...theme.typography.commonAvatar,...theme.typography.largeAvatar,borderRadius:'50%',backgroundColor:'white',cursor:'grab'},children:/*#__PURE__*/_jsx(\"img\",{style:{width:'100%',height:'100%',padding:5,objectFit:'contain'},src:\"\".concat(baseURL,\"/api/v1/node-icon/\").concat(data.name),alt:\"Notification\"})})}),/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(Typography,{sx:{fontSize:'1rem',fontWeight:500},children:data.label})}),/*#__PURE__*/_jsx(\"div\",{style:{flexGrow:1}}),data.tags&&data.tags.includes('LlamaIndex')&&/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{style:{borderRadius:'50%',padding:15},children:/*#__PURE__*/_jsx(\"img\",{style:{width:'25px',height:'25px',borderRadius:'50%',objectFit:'contain'},src:LlamaindexPNG,alt:\"LlamaIndex\"})})})]}),(data.inputAnchors.length>0||data.inputParams.length>0)&&/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Box,{sx:{background:theme.palette.asyncSelect.main,p:1},children:/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:500,textAlign:'center'},children:\"Inputs\"})}),/*#__PURE__*/_jsx(Divider,{})]}),data.inputAnchors.map((inputAnchor,index)=>/*#__PURE__*/_jsx(NodeInputHandler,{disabled:true,inputAnchor:inputAnchor,data:data},index)),data.inputParams.map((inputParam,index)=>/*#__PURE__*/_jsx(NodeInputHandler,{disabled:true,inputParam:inputParam,data:data},index)),data.inputParams.find(param=>param.additionalParams)&&/*#__PURE__*/_jsx(\"div\",{style:{textAlign:'center'},children:/*#__PURE__*/_jsx(Button,{sx:{borderRadius:25,width:'90%',mb:2},variant:\"outlined\",onClick:onDialogClicked,children:\"Additional Parameters\"})}),/*#__PURE__*/_jsx(Divider,{}),/*#__PURE__*/_jsx(Box,{sx:{background:theme.palette.asyncSelect.main,p:1},children:/*#__PURE__*/_jsx(Typography,{sx:{fontWeight:500,textAlign:'center'},children:\"Output\"})}),/*#__PURE__*/_jsx(Divider,{}),data.outputAnchors.map((outputAnchor,index)=>/*#__PURE__*/_jsx(NodeOutputHandler,{disabled:true,outputAnchor:outputAnchor,data:data},index))]})}),/*#__PURE__*/_jsx(AdditionalParamsDialog,{show:showDialog,dialogProps:dialogProps,onCancel:()=>setShowDialog(false)})]});};export default MarketplaceCanvasNode;","map":{"version":3,"names":["useState","styled","useTheme","Box","Typography","Divider","Button","MainCard","NodeInputHandler","NodeOutputHandler","AdditionalParamsDialog","baseURL","LlamaindexPNG","jsx","_jsx","Fragment","_Fragment","jsxs","_jsxs","CardWrapper","_ref","theme","background","palette","card","main","color","darkTextPrimary","border","borderColor","primary","width","height","padding","boxShadow","MarketplaceCanvasNode","_ref2","data","showDialog","setShowDialog","dialogProps","setDialogProps","onDialogClicked","inputParams","filter","param","additionalParams","disabled","confirmButtonName","cancelButtonName","children","content","sx","selected","text","secondary","style","display","flexDirection","alignItems","marginRight","typography","commonAvatar","largeAvatar","borderRadius","backgroundColor","cursor","objectFit","src","concat","name","alt","fontSize","fontWeight","label","flexGrow","tags","includes","inputAnchors","length","asyncSelect","p","textAlign","map","inputAnchor","index","inputParam","find","mb","variant","onClick","outputAnchors","outputAnchor","show","onCancel"],"sources":["D:/Flowise/packages/ui/src/views/marketplaces/MarketplaceCanvasNode.js"],"sourcesContent":["import PropTypes from 'prop-types'\r\nimport { useState } from 'react'\r\n\r\n// material-ui\r\nimport { styled, useTheme } from '@mui/material/styles'\r\nimport { Box, Typography, Divider, Button } from '@mui/material'\r\n\r\n// project imports\r\nimport MainCard from 'ui-component/cards/MainCard'\r\nimport NodeInputHandler from 'views/canvas/NodeInputHandler'\r\nimport NodeOutputHandler from 'views/canvas/NodeOutputHandler'\r\nimport AdditionalParamsDialog from 'ui-component/dialog/AdditionalParamsDialog'\r\n\r\n// const\r\nimport { baseURL } from 'store/constant'\r\nimport LlamaindexPNG from 'assets/images/llamaindex.png'\r\n\r\nconst CardWrapper = styled(MainCard)(({ theme }) => ({\r\n    background: theme.palette.card.main,\r\n    color: theme.darkTextPrimary,\r\n    border: 'solid 1px',\r\n    borderColor: theme.palette.primary[200] + 75,\r\n    width: '300px',\r\n    height: 'auto',\r\n    padding: '10px',\r\n    boxShadow: '0 2px 14px 0 rgb(32 40 45 / 8%)',\r\n    '&:hover': {\r\n        borderColor: theme.palette.primary.main\r\n    }\r\n}))\r\n\r\n// ===========================|| CANVAS NODE ||=========================== //\r\n\r\nconst MarketplaceCanvasNode = ({ data }) => {\r\n    const theme = useTheme()\r\n\r\n    const [showDialog, setShowDialog] = useState(false)\r\n    const [dialogProps, setDialogProps] = useState({})\r\n\r\n    const onDialogClicked = () => {\r\n        const dialogProps = {\r\n            data,\r\n            inputParams: data.inputParams.filter((param) => param.additionalParams),\r\n            disabled: true,\r\n            confirmButtonName: 'Save',\r\n            cancelButtonName: 'Cancel'\r\n        }\r\n        setDialogProps(dialogProps)\r\n        setShowDialog(true)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            <CardWrapper\r\n                content={false}\r\n                sx={{\r\n                    padding: 0,\r\n                    borderColor: data.selected ? theme.palette.primary.main : theme.palette.text.secondary\r\n                }}\r\n                border={false}\r\n            >\r\n                <Box>\r\n                    <div style={{ display: 'flex', flexDirection: 'row', alignItems: 'center' }}>\r\n                        <Box style={{ width: 50, marginRight: 10, padding: 5 }}>\r\n                            <div\r\n                                style={{\r\n                                    ...theme.typography.commonAvatar,\r\n                                    ...theme.typography.largeAvatar,\r\n                                    borderRadius: '50%',\r\n                                    backgroundColor: 'white',\r\n                                    cursor: 'grab'\r\n                                }}\r\n                            >\r\n                                <img\r\n                                    style={{ width: '100%', height: '100%', padding: 5, objectFit: 'contain' }}\r\n                                    src={`${baseURL}/api/v1/node-icon/${data.name}`}\r\n                                    alt='Notification'\r\n                                />\r\n                            </div>\r\n                        </Box>\r\n                        <Box>\r\n                            <Typography\r\n                                sx={{\r\n                                    fontSize: '1rem',\r\n                                    fontWeight: 500\r\n                                }}\r\n                            >\r\n                                {data.label}\r\n                            </Typography>\r\n                        </Box>\r\n                        <div style={{ flexGrow: 1 }}></div>\r\n                        {data.tags && data.tags.includes('LlamaIndex') && (\r\n                            <>\r\n                                <div\r\n                                    style={{\r\n                                        borderRadius: '50%',\r\n                                        padding: 15\r\n                                    }}\r\n                                >\r\n                                    <img\r\n                                        style={{ width: '25px', height: '25px', borderRadius: '50%', objectFit: 'contain' }}\r\n                                        src={LlamaindexPNG}\r\n                                        alt='LlamaIndex'\r\n                                    />\r\n                                </div>\r\n                            </>\r\n                        )}\r\n                    </div>\r\n                    {(data.inputAnchors.length > 0 || data.inputParams.length > 0) && (\r\n                        <>\r\n                            <Divider />\r\n                            <Box sx={{ background: theme.palette.asyncSelect.main, p: 1 }}>\r\n                                <Typography\r\n                                    sx={{\r\n                                        fontWeight: 500,\r\n                                        textAlign: 'center'\r\n                                    }}\r\n                                >\r\n                                    Inputs\r\n                                </Typography>\r\n                            </Box>\r\n                            <Divider />\r\n                        </>\r\n                    )}\r\n                    {data.inputAnchors.map((inputAnchor, index) => (\r\n                        <NodeInputHandler disabled={true} key={index} inputAnchor={inputAnchor} data={data} />\r\n                    ))}\r\n                    {data.inputParams.map((inputParam, index) => (\r\n                        <NodeInputHandler disabled={true} key={index} inputParam={inputParam} data={data} />\r\n                    ))}\r\n                    {data.inputParams.find((param) => param.additionalParams) && (\r\n                        <div style={{ textAlign: 'center' }}>\r\n                            <Button sx={{ borderRadius: 25, width: '90%', mb: 2 }} variant='outlined' onClick={onDialogClicked}>\r\n                                Additional Parameters\r\n                            </Button>\r\n                        </div>\r\n                    )}\r\n                    <Divider />\r\n                    <Box sx={{ background: theme.palette.asyncSelect.main, p: 1 }}>\r\n                        <Typography\r\n                            sx={{\r\n                                fontWeight: 500,\r\n                                textAlign: 'center'\r\n                            }}\r\n                        >\r\n                            Output\r\n                        </Typography>\r\n                    </Box>\r\n                    <Divider />\r\n\r\n                    {data.outputAnchors.map((outputAnchor, index) => (\r\n                        <NodeOutputHandler disabled={true} key={index} outputAnchor={outputAnchor} data={data} />\r\n                    ))}\r\n                </Box>\r\n            </CardWrapper>\r\n            <AdditionalParamsDialog\r\n                show={showDialog}\r\n                dialogProps={dialogProps}\r\n                onCancel={() => setShowDialog(false)}\r\n            ></AdditionalParamsDialog>\r\n        </>\r\n    )\r\n}\r\n\r\nMarketplaceCanvasNode.propTypes = {\r\n    data: PropTypes.object\r\n}\r\n\r\nexport default MarketplaceCanvasNode\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}