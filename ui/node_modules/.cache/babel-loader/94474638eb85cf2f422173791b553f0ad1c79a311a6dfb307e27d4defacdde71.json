{"ast":null,"code":"import{useSelector,useDispatch}from'react-redux';import{useState}from'react';import{useNavigate}from'react-router-dom';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Avatar,Box,ButtonBase,Switch}from'@mui/material';import{styled}from'@mui/material/styles';// project imports\nimport LogoSection from'../LogoSection';import ProfileSection from'./ProfileSection';// assets\nimport{IconMenu2}from'@tabler/icons';// store\nimport{SET_DARKMODE}from'store/actions';// ==============================|| MAIN NAVBAR / HEADER ||============================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const MaterialUISwitch=styled(Switch)(_ref=>{let{theme}=_ref;return{width:62,height:34,padding:7,'& .MuiSwitch-switchBase':{margin:1,padding:0,transform:'translateX(6px)','&.Mui-checked':{color:'#fff',transform:'translateX(22px)','& .MuiSwitch-thumb:before':{backgroundImage:\"url('data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"20\\\" width=\\\"20\\\" viewBox=\\\"0 0 20 20\\\"><path fill=\\\"\".concat(encodeURIComponent('#fff'),\"\\\" d=\\\"M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z\\\"/></svg>')\")},'& + .MuiSwitch-track':{opacity:1,backgroundColor:theme.palette.mode==='dark'?'#8796A5':'#aab4be'}}},'& .MuiSwitch-thumb':{backgroundColor:theme.palette.mode==='dark'?'#003892':'#001e3c',width:32,height:32,'&:before':{content:\"''\",position:'absolute',width:'100%',height:'100%',left:0,top:0,backgroundRepeat:'no-repeat',backgroundPosition:'center',backgroundImage:\"url('data:image/svg+xml;utf8,<svg xmlns=\\\"http://www.w3.org/2000/svg\\\" height=\\\"20\\\" width=\\\"20\\\" viewBox=\\\"0 0 20 20\\\"><path fill=\\\"\".concat(encodeURIComponent('#fff'),\"\\\" d=\\\"M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z\\\"/></svg>')\")}},'& .MuiSwitch-track':{opacity:1,backgroundColor:theme.palette.mode==='dark'?'#8796A5':'#aab4be',borderRadius:20/2}};});const Header=_ref2=>{var _localStorage$getItem;let{handleLeftDrawerToggle}=_ref2;const theme=useTheme();const navigate=useNavigate();const customization=useSelector(state=>state.customization);const[isDark,setIsDark]=useState(customization.isDarkMode);const dispatch=useDispatch();const changeDarkMode=()=>{dispatch({type:SET_DARKMODE,isDarkMode:!isDark});setIsDark(isDark=>!isDark);localStorage.setItem('isDarkMode',!isDark);};const signOutClicked=()=>{localStorage.removeItem('username');localStorage.removeItem('password');navigate('/',{replace:true});navigate(0);};return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsxs(Box,{sx:{width:228,display:'flex',[theme.breakpoints.down('md')]:{width:'auto'}},children:[/*#__PURE__*/_jsx(Box,{component:\"span\",sx:{display:{xs:'none',md:'block'},flexGrow:1},children:/*#__PURE__*/_jsx(LogoSection,{})}),/*#__PURE__*/_jsx(ButtonBase,{sx:{borderRadius:'12px',overflow:'hidden'},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:{...theme.typography.commonAvatar,...theme.typography.mediumAvatar,transition:'all .2s ease-in-out',background:theme.palette.secondary.light,color:theme.palette.secondary.dark,'&:hover':{background:theme.palette.secondary.dark,color:theme.palette.secondary.light}},onClick:handleLeftDrawerToggle,color:\"inherit\",children:/*#__PURE__*/_jsx(IconMenu2,{stroke:1.5,size:\"1.3rem\"})})})]}),/*#__PURE__*/_jsx(Box,{sx:{flexGrow:1}}),/*#__PURE__*/_jsx(MaterialUISwitch,{checked:isDark,onChange:changeDarkMode}),/*#__PURE__*/_jsx(Box,{sx:{ml:2}}),/*#__PURE__*/_jsx(ProfileSection,{handleLogout:signOutClicked,username:(_localStorage$getItem=localStorage.getItem('username'))!==null&&_localStorage$getItem!==void 0?_localStorage$getItem:''})]});};export default Header;","map":{"version":3,"names":["useSelector","useDispatch","useState","useNavigate","useTheme","Avatar","Box","ButtonBase","Switch","styled","LogoSection","ProfileSection","IconMenu2","SET_DARKMODE","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","MaterialUISwitch","_ref","theme","width","height","padding","margin","transform","color","backgroundImage","concat","encodeURIComponent","opacity","backgroundColor","palette","mode","content","position","left","top","backgroundRepeat","backgroundPosition","borderRadius","Header","_ref2","_localStorage$getItem","handleLeftDrawerToggle","navigate","customization","state","isDark","setIsDark","isDarkMode","dispatch","changeDarkMode","type","localStorage","setItem","signOutClicked","removeItem","replace","children","sx","display","breakpoints","down","component","xs","md","flexGrow","overflow","variant","typography","commonAvatar","mediumAvatar","transition","background","secondary","light","dark","onClick","stroke","size","checked","onChange","ml","handleLogout","username","getItem"],"sources":["D:/Flowise/packages/ui/src/layout/MainLayout/Header/index.js"],"sourcesContent":["import PropTypes from 'prop-types'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useState } from 'react'\r\nimport { useNavigate } from 'react-router-dom'\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles'\r\nimport { Avatar, Box, ButtonBase, Switch } from '@mui/material'\r\nimport { styled } from '@mui/material/styles'\r\n\r\n// project imports\r\nimport LogoSection from '../LogoSection'\r\nimport ProfileSection from './ProfileSection'\r\n\r\n// assets\r\nimport { IconMenu2 } from '@tabler/icons'\r\n\r\n// store\r\nimport { SET_DARKMODE } from 'store/actions'\r\n\r\n// ==============================|| MAIN NAVBAR / HEADER ||============================== //\r\n\r\nconst MaterialUISwitch = styled(Switch)(({ theme }) => ({\r\n    width: 62,\r\n    height: 34,\r\n    padding: 7,\r\n    '& .MuiSwitch-switchBase': {\r\n        margin: 1,\r\n        padding: 0,\r\n        transform: 'translateX(6px)',\r\n        '&.Mui-checked': {\r\n            color: '#fff',\r\n            transform: 'translateX(22px)',\r\n            '& .MuiSwitch-thumb:before': {\r\n                backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\r\n                    '#fff'\r\n                )}\" d=\"M4.2 2.5l-.7 1.8-1.8.7 1.8.7.7 1.8.6-1.8L6.7 5l-1.9-.7-.6-1.8zm15 8.3a6.7 6.7 0 11-6.6-6.6 5.8 5.8 0 006.6 6.6z\"/></svg>')`\r\n            },\r\n            '& + .MuiSwitch-track': {\r\n                opacity: 1,\r\n                backgroundColor: theme.palette.mode === 'dark' ? '#8796A5' : '#aab4be'\r\n            }\r\n        }\r\n    },\r\n    '& .MuiSwitch-thumb': {\r\n        backgroundColor: theme.palette.mode === 'dark' ? '#003892' : '#001e3c',\r\n        width: 32,\r\n        height: 32,\r\n        '&:before': {\r\n            content: \"''\",\r\n            position: 'absolute',\r\n            width: '100%',\r\n            height: '100%',\r\n            left: 0,\r\n            top: 0,\r\n            backgroundRepeat: 'no-repeat',\r\n            backgroundPosition: 'center',\r\n            backgroundImage: `url('data:image/svg+xml;utf8,<svg xmlns=\"http://www.w3.org/2000/svg\" height=\"20\" width=\"20\" viewBox=\"0 0 20 20\"><path fill=\"${encodeURIComponent(\r\n                '#fff'\r\n            )}\" d=\"M9.305 1.667V3.75h1.389V1.667h-1.39zm-4.707 1.95l-.982.982L5.09 6.072l.982-.982-1.473-1.473zm10.802 0L13.927 5.09l.982.982 1.473-1.473-.982-.982zM10 5.139a4.872 4.872 0 00-4.862 4.86A4.872 4.872 0 0010 14.862 4.872 4.872 0 0014.86 10 4.872 4.872 0 0010 5.139zm0 1.389A3.462 3.462 0 0113.471 10a3.462 3.462 0 01-3.473 3.472A3.462 3.462 0 016.527 10 3.462 3.462 0 0110 6.528zM1.665 9.305v1.39h2.083v-1.39H1.666zm14.583 0v1.39h2.084v-1.39h-2.084zM5.09 13.928L3.616 15.4l.982.982 1.473-1.473-.982-.982zm9.82 0l-.982.982 1.473 1.473.982-.982-1.473-1.473zM9.305 16.25v2.083h1.389V16.25h-1.39z\"/></svg>')`\r\n        }\r\n    },\r\n    '& .MuiSwitch-track': {\r\n        opacity: 1,\r\n        backgroundColor: theme.palette.mode === 'dark' ? '#8796A5' : '#aab4be',\r\n        borderRadius: 20 / 2\r\n    }\r\n}))\r\n\r\nconst Header = ({ handleLeftDrawerToggle }) => {\r\n    const theme = useTheme()\r\n    const navigate = useNavigate()\r\n\r\n    const customization = useSelector((state) => state.customization)\r\n\r\n    const [isDark, setIsDark] = useState(customization.isDarkMode)\r\n    const dispatch = useDispatch()\r\n\r\n    const changeDarkMode = () => {\r\n        dispatch({ type: SET_DARKMODE, isDarkMode: !isDark })\r\n        setIsDark((isDark) => !isDark)\r\n        localStorage.setItem('isDarkMode', !isDark)\r\n    }\r\n\r\n    const signOutClicked = () => {\r\n        localStorage.removeItem('username')\r\n        localStorage.removeItem('password')\r\n        navigate('/', { replace: true })\r\n        navigate(0)\r\n    }\r\n\r\n    return (\r\n        <>\r\n            {/* logo & toggler button */}\r\n            <Box\r\n                sx={{\r\n                    width: 228,\r\n                    display: 'flex',\r\n                    [theme.breakpoints.down('md')]: {\r\n                        width: 'auto'\r\n                    }\r\n                }}\r\n            >\r\n                <Box component='span' sx={{ display: { xs: 'none', md: 'block' }, flexGrow: 1 }}>\r\n                    <LogoSection />\r\n                </Box>\r\n                <ButtonBase sx={{ borderRadius: '12px', overflow: 'hidden' }}>\r\n                    <Avatar\r\n                        variant='rounded'\r\n                        sx={{\r\n                            ...theme.typography.commonAvatar,\r\n                            ...theme.typography.mediumAvatar,\r\n                            transition: 'all .2s ease-in-out',\r\n                            background: theme.palette.secondary.light,\r\n                            color: theme.palette.secondary.dark,\r\n                            '&:hover': {\r\n                                background: theme.palette.secondary.dark,\r\n                                color: theme.palette.secondary.light\r\n                            }\r\n                        }}\r\n                        onClick={handleLeftDrawerToggle}\r\n                        color='inherit'\r\n                    >\r\n                        <IconMenu2 stroke={1.5} size='1.3rem' />\r\n                    </Avatar>\r\n                </ButtonBase>\r\n            </Box>\r\n            <Box sx={{ flexGrow: 1 }} />\r\n            <MaterialUISwitch checked={isDark} onChange={changeDarkMode} />\r\n            <Box sx={{ ml: 2 }}></Box>\r\n            <ProfileSection handleLogout={signOutClicked} username={localStorage.getItem('username') ?? ''} />\r\n        </>\r\n    )\r\n}\r\n\r\nHeader.propTypes = {\r\n    handleLeftDrawerToggle: PropTypes.func\r\n}\r\n\r\nexport default Header\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}