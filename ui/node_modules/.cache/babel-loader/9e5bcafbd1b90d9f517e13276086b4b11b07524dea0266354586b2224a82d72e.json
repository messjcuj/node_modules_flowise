{"ast":null,"code":"import{useState}from'react';import{useDispatch}from'react-redux';import{styled,alpha}from'@mui/material/styles';import Menu from'@mui/material/Menu';import MenuItem from'@mui/material/MenuItem';import EditIcon from'@mui/icons-material/Edit';import Divider from'@mui/material/Divider';import FileCopyIcon from'@mui/icons-material/FileCopy';import FileDownloadIcon from'@mui/icons-material/Downloading';import FileDeleteIcon from'@mui/icons-material/Delete';import FileCategoryIcon from'@mui/icons-material/Category';import PictureInPictureAltIcon from'@mui/icons-material/PictureInPictureAlt';import Button from'@mui/material/Button';import KeyboardArrowDownIcon from'@mui/icons-material/KeyboardArrowDown';import{IconX}from'@tabler/icons';import chatflowsApi from'api/chatflows';import useApi from'../../hooks/useApi';import useConfirm from'hooks/useConfirm';import{uiBaseURL}from'../../store/constant';import{closeSnackbar as closeSnackbarAction,enqueueSnackbar as enqueueSnackbarAction}from'../../store/actions';import SaveChatflowDialog from'../dialog/SaveChatflowDialog';import TagDialog from'../dialog/TagDialog';import{generateExportFlowData}from'../../utils/genericHelper';import useNotifier from'../../utils/useNotifier';import StarterPromptsDialog from'../dialog/StarterPromptsDialog';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const StyledMenu=styled(props=>/*#__PURE__*/_jsx(Menu,{elevation:0,anchorOrigin:{vertical:'bottom',horizontal:'right'},transformOrigin:{vertical:'top',horizontal:'right'},...props}))(_ref=>{let{theme}=_ref;return{'& .MuiPaper-root':{borderRadius:6,marginTop:theme.spacing(1),minWidth:180,boxShadow:'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px','& .MuiMenu-list':{padding:'4px 0'},'& .MuiMenuItem-root':{'& .MuiSvgIcon-root':{fontSize:18,color:theme.palette.text.secondary,marginRight:theme.spacing(1.5)},'&:active':{backgroundColor:alpha(theme.palette.primary.main,theme.palette.action.selectedOpacity)}}}};});export default function FlowListMenu(_ref2){let{chatflow,updateFlowsApi}=_ref2;const{confirm}=useConfirm();const dispatch=useDispatch();const updateChatflowApi=useApi(chatflowsApi.updateChatflow);useNotifier();const enqueueSnackbar=function(){return dispatch(enqueueSnackbarAction(...arguments));};const closeSnackbar=function(){return dispatch(closeSnackbarAction(...arguments));};const[flowDialogOpen,setFlowDialogOpen]=useState(false);const[categoryDialogOpen,setCategoryDialogOpen]=useState(false);const[categoryDialogProps,setCategoryDialogProps]=useState({});const[anchorEl,setAnchorEl]=useState(null);const open=Boolean(anchorEl);const[conversationStartersDialogOpen,setConversationStartersDialogOpen]=useState(false);const[conversationStartersDialogProps,setConversationStartersDialogProps]=useState({});const handleClick=event=>{setAnchorEl(event.currentTarget);};const handleClose=()=>{setAnchorEl(null);};const handleFlowRename=()=>{setAnchorEl(null);setFlowDialogOpen(true);};const handleFlowStarterPrompts=()=>{setAnchorEl(null);setConversationStartersDialogProps({title:'Starter Prompts - '+chatflow.name,chatflow:chatflow});setConversationStartersDialogOpen(true);};const saveFlowStarterPrompts=async()=>{setConversationStartersDialogOpen(false);await updateFlowsApi.request();};const saveFlowRename=async chatflowName=>{const updateBody={name:chatflowName,chatflow};try{await updateChatflowApi.request(chatflow.id,updateBody);await updateFlowsApi.request();}catch(error){const errorData=error.response.data||\"\".concat(error.response.status,\": \").concat(error.response.statusText);enqueueSnackbar({message:errorData,options:{key:new Date().getTime()+Math.random(),variant:'error',persist:true,action:key=>/*#__PURE__*/_jsx(Button,{style:{color:'white'},onClick:()=>closeSnackbar(key),children:/*#__PURE__*/_jsx(IconX,{})})}});}};const handleFlowCategory=()=>{setAnchorEl(null);if(chatflow.category){setCategoryDialogProps({category:chatflow.category.split(';')});}setCategoryDialogOpen(true);};const saveFlowCategory=async categories=>{setCategoryDialogOpen(false);// save categories as string\nconst categoryTags=categories.join(';');const updateBody={category:categoryTags,chatflow};try{await updateChatflowApi.request(chatflow.id,updateBody);await updateFlowsApi.request();}catch(error){const errorData=error.response.data||\"\".concat(error.response.status,\": \").concat(error.response.statusText);enqueueSnackbar({message:errorData,options:{key:new Date().getTime()+Math.random(),variant:'error',persist:true,action:key=>/*#__PURE__*/_jsx(Button,{style:{color:'white'},onClick:()=>closeSnackbar(key),children:/*#__PURE__*/_jsx(IconX,{})})}});}};const handleDelete=async()=>{setAnchorEl(null);const confirmPayload={title:\"Delete\",description:\"Delete chatflow \".concat(chatflow.name,\"?\"),confirmButtonName:'Delete',cancelButtonName:'Cancel'};const isConfirmed=await confirm(confirmPayload);if(isConfirmed){try{await chatflowsApi.deleteChatflow(chatflow.id);await updateFlowsApi.request();}catch(error){const errorData=error.response.data||\"\".concat(error.response.status,\": \").concat(error.response.statusText);enqueueSnackbar({message:errorData,options:{key:new Date().getTime()+Math.random(),variant:'error',persist:true,action:key=>/*#__PURE__*/_jsx(Button,{style:{color:'white'},onClick:()=>closeSnackbar(key),children:/*#__PURE__*/_jsx(IconX,{})})}});}}};const handleDuplicate=()=>{setAnchorEl(null);try{localStorage.setItem('duplicatedFlowData',chatflow.flowData);window.open(\"\".concat(uiBaseURL,\"/canvas\"),'_blank');}catch(e){console.error(e);}};const handleExport=()=>{setAnchorEl(null);try{const flowData=JSON.parse(chatflow.flowData);let dataStr=JSON.stringify(generateExportFlowData(flowData),null,2);let dataUri='data:application/json;charset=utf-8,'+encodeURIComponent(dataStr);let exportFileDefaultName=\"\".concat(chatflow.name,\" Chatflow.json\");let linkElement=document.createElement('a');linkElement.setAttribute('href',dataUri);linkElement.setAttribute('download',exportFileDefaultName);linkElement.click();}catch(e){console.error(e);}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsx(Button,{id:\"demo-customized-button\",\"aria-controls\":open?'demo-customized-menu':undefined,\"aria-haspopup\":\"true\",\"aria-expanded\":open?'true':undefined,disableElevation:true,onClick:handleClick,endIcon:/*#__PURE__*/_jsx(KeyboardArrowDownIcon,{}),children:\"Options\"}),/*#__PURE__*/_jsxs(StyledMenu,{id:\"demo-customized-menu\",MenuListProps:{'aria-labelledby':'demo-customized-button'},anchorEl:anchorEl,open:open,onClose:handleClose,children:[/*#__PURE__*/_jsxs(MenuItem,{onClick:handleFlowRename,disableRipple:true,children:[/*#__PURE__*/_jsx(EditIcon,{}),\"Rename\"]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleDuplicate,disableRipple:true,children:[/*#__PURE__*/_jsx(FileCopyIcon,{}),\"Duplicate\"]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleExport,disableRipple:true,children:[/*#__PURE__*/_jsx(FileDownloadIcon,{}),\"Export\"]}),/*#__PURE__*/_jsx(Divider,{sx:{my:0.5}}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleFlowStarterPrompts,disableRipple:true,children:[/*#__PURE__*/_jsx(PictureInPictureAltIcon,{}),\"Starter Prompts\"]}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleFlowCategory,disableRipple:true,children:[/*#__PURE__*/_jsx(FileCategoryIcon,{}),\"Update Category\"]}),/*#__PURE__*/_jsx(Divider,{sx:{my:0.5}}),/*#__PURE__*/_jsxs(MenuItem,{onClick:handleDelete,disableRipple:true,children:[/*#__PURE__*/_jsx(FileDeleteIcon,{}),\"Delete\"]})]}),/*#__PURE__*/_jsx(SaveChatflowDialog,{show:flowDialogOpen,dialogProps:{title:\"Rename Chatflow\",confirmButtonName:'Rename',cancelButtonName:'Cancel'},onCancel:()=>setFlowDialogOpen(false),onConfirm:saveFlowRename}),/*#__PURE__*/_jsx(TagDialog,{isOpen:categoryDialogOpen,dialogProps:categoryDialogProps,onClose:()=>setCategoryDialogOpen(false),onSubmit:saveFlowCategory}),/*#__PURE__*/_jsx(StarterPromptsDialog,{show:conversationStartersDialogOpen,dialogProps:conversationStartersDialogProps,onConfirm:saveFlowStarterPrompts,onCancel:()=>setConversationStartersDialogOpen(false)})]});}","map":{"version":3,"names":["useState","useDispatch","styled","alpha","Menu","MenuItem","EditIcon","Divider","FileCopyIcon","FileDownloadIcon","FileDeleteIcon","FileCategoryIcon","PictureInPictureAltIcon","Button","KeyboardArrowDownIcon","IconX","chatflowsApi","useApi","useConfirm","uiBaseURL","closeSnackbar","closeSnackbarAction","enqueueSnackbar","enqueueSnackbarAction","SaveChatflowDialog","TagDialog","generateExportFlowData","useNotifier","StarterPromptsDialog","jsx","_jsx","jsxs","_jsxs","StyledMenu","props","elevation","anchorOrigin","vertical","horizontal","transformOrigin","_ref","theme","borderRadius","marginTop","spacing","minWidth","boxShadow","padding","fontSize","color","palette","text","secondary","marginRight","backgroundColor","primary","main","action","selectedOpacity","FlowListMenu","_ref2","chatflow","updateFlowsApi","confirm","dispatch","updateChatflowApi","updateChatflow","arguments","flowDialogOpen","setFlowDialogOpen","categoryDialogOpen","setCategoryDialogOpen","categoryDialogProps","setCategoryDialogProps","anchorEl","setAnchorEl","open","Boolean","conversationStartersDialogOpen","setConversationStartersDialogOpen","conversationStartersDialogProps","setConversationStartersDialogProps","handleClick","event","currentTarget","handleClose","handleFlowRename","handleFlowStarterPrompts","title","name","saveFlowStarterPrompts","request","saveFlowRename","chatflowName","updateBody","id","error","errorData","response","data","concat","status","statusText","message","options","key","Date","getTime","Math","random","variant","persist","style","onClick","children","handleFlowCategory","category","split","saveFlowCategory","categories","categoryTags","join","handleDelete","confirmPayload","description","confirmButtonName","cancelButtonName","isConfirmed","deleteChatflow","handleDuplicate","localStorage","setItem","flowData","window","e","console","handleExport","JSON","parse","dataStr","stringify","dataUri","encodeURIComponent","exportFileDefaultName","linkElement","document","createElement","setAttribute","click","undefined","disableElevation","endIcon","MenuListProps","onClose","disableRipple","sx","my","show","dialogProps","onCancel","onConfirm","isOpen","onSubmit"],"sources":["D:/Flowise/packages/ui/src/ui-component/button/FlowListMenu.js"],"sourcesContent":["import { useState } from 'react'\r\nimport { useDispatch } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\n\r\nimport { styled, alpha } from '@mui/material/styles'\r\nimport Menu from '@mui/material/Menu'\r\nimport MenuItem from '@mui/material/MenuItem'\r\nimport EditIcon from '@mui/icons-material/Edit'\r\nimport Divider from '@mui/material/Divider'\r\nimport FileCopyIcon from '@mui/icons-material/FileCopy'\r\nimport FileDownloadIcon from '@mui/icons-material/Downloading'\r\nimport FileDeleteIcon from '@mui/icons-material/Delete'\r\nimport FileCategoryIcon from '@mui/icons-material/Category'\r\nimport PictureInPictureAltIcon from '@mui/icons-material/PictureInPictureAlt'\r\nimport Button from '@mui/material/Button'\r\nimport KeyboardArrowDownIcon from '@mui/icons-material/KeyboardArrowDown'\r\nimport { IconX } from '@tabler/icons'\r\n\r\nimport chatflowsApi from 'api/chatflows'\r\n\r\nimport useApi from '../../hooks/useApi'\r\nimport useConfirm from 'hooks/useConfirm'\r\nimport { uiBaseURL } from '../../store/constant'\r\nimport { closeSnackbar as closeSnackbarAction, enqueueSnackbar as enqueueSnackbarAction } from '../../store/actions'\r\n\r\nimport SaveChatflowDialog from '../dialog/SaveChatflowDialog'\r\nimport TagDialog from '../dialog/TagDialog'\r\n\r\nimport { generateExportFlowData } from '../../utils/genericHelper'\r\nimport useNotifier from '../../utils/useNotifier'\r\nimport StarterPromptsDialog from '../dialog/StarterPromptsDialog'\r\n\r\nconst StyledMenu = styled((props) => (\r\n    <Menu\r\n        elevation={0}\r\n        anchorOrigin={{\r\n            vertical: 'bottom',\r\n            horizontal: 'right'\r\n        }}\r\n        transformOrigin={{\r\n            vertical: 'top',\r\n            horizontal: 'right'\r\n        }}\r\n        {...props}\r\n    />\r\n))(({ theme }) => ({\r\n    '& .MuiPaper-root': {\r\n        borderRadius: 6,\r\n        marginTop: theme.spacing(1),\r\n        minWidth: 180,\r\n        boxShadow:\r\n            'rgb(255, 255, 255) 0px 0px 0px 0px, rgba(0, 0, 0, 0.05) 0px 0px 0px 1px, rgba(0, 0, 0, 0.1) 0px 10px 15px -3px, rgba(0, 0, 0, 0.05) 0px 4px 6px -2px',\r\n        '& .MuiMenu-list': {\r\n            padding: '4px 0'\r\n        },\r\n        '& .MuiMenuItem-root': {\r\n            '& .MuiSvgIcon-root': {\r\n                fontSize: 18,\r\n                color: theme.palette.text.secondary,\r\n                marginRight: theme.spacing(1.5)\r\n            },\r\n            '&:active': {\r\n                backgroundColor: alpha(theme.palette.primary.main, theme.palette.action.selectedOpacity)\r\n            }\r\n        }\r\n    }\r\n}))\r\n\r\nexport default function FlowListMenu({ chatflow, updateFlowsApi }) {\r\n    const { confirm } = useConfirm()\r\n    const dispatch = useDispatch()\r\n    const updateChatflowApi = useApi(chatflowsApi.updateChatflow)\r\n\r\n    useNotifier()\r\n    const enqueueSnackbar = (...args) => dispatch(enqueueSnackbarAction(...args))\r\n    const closeSnackbar = (...args) => dispatch(closeSnackbarAction(...args))\r\n\r\n    const [flowDialogOpen, setFlowDialogOpen] = useState(false)\r\n    const [categoryDialogOpen, setCategoryDialogOpen] = useState(false)\r\n    const [categoryDialogProps, setCategoryDialogProps] = useState({})\r\n    const [anchorEl, setAnchorEl] = useState(null)\r\n    const open = Boolean(anchorEl)\r\n    const [conversationStartersDialogOpen, setConversationStartersDialogOpen] = useState(false)\r\n    const [conversationStartersDialogProps, setConversationStartersDialogProps] = useState({})\r\n\r\n    const handleClick = (event) => {\r\n        setAnchorEl(event.currentTarget)\r\n    }\r\n\r\n    const handleClose = () => {\r\n        setAnchorEl(null)\r\n    }\r\n\r\n    const handleFlowRename = () => {\r\n        setAnchorEl(null)\r\n        setFlowDialogOpen(true)\r\n    }\r\n\r\n    const handleFlowStarterPrompts = () => {\r\n        setAnchorEl(null)\r\n        setConversationStartersDialogProps({\r\n            title: 'Starter Prompts - ' + chatflow.name,\r\n            chatflow: chatflow\r\n        })\r\n        setConversationStartersDialogOpen(true)\r\n    }\r\n\r\n    const saveFlowStarterPrompts = async () => {\r\n        setConversationStartersDialogOpen(false)\r\n        await updateFlowsApi.request()\r\n    }\r\n\r\n    const saveFlowRename = async (chatflowName) => {\r\n        const updateBody = {\r\n            name: chatflowName,\r\n            chatflow\r\n        }\r\n        try {\r\n            await updateChatflowApi.request(chatflow.id, updateBody)\r\n            await updateFlowsApi.request()\r\n        } catch (error) {\r\n            const errorData = error.response.data || `${error.response.status}: ${error.response.statusText}`\r\n            enqueueSnackbar({\r\n                message: errorData,\r\n                options: {\r\n                    key: new Date().getTime() + Math.random(),\r\n                    variant: 'error',\r\n                    persist: true,\r\n                    action: (key) => (\r\n                        <Button style={{ color: 'white' }} onClick={() => closeSnackbar(key)}>\r\n                            <IconX />\r\n                        </Button>\r\n                    )\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleFlowCategory = () => {\r\n        setAnchorEl(null)\r\n        if (chatflow.category) {\r\n            setCategoryDialogProps({\r\n                category: chatflow.category.split(';')\r\n            })\r\n        }\r\n        setCategoryDialogOpen(true)\r\n    }\r\n\r\n    const saveFlowCategory = async (categories) => {\r\n        setCategoryDialogOpen(false)\r\n        // save categories as string\r\n        const categoryTags = categories.join(';')\r\n        const updateBody = {\r\n            category: categoryTags,\r\n            chatflow\r\n        }\r\n        try {\r\n            await updateChatflowApi.request(chatflow.id, updateBody)\r\n            await updateFlowsApi.request()\r\n        } catch (error) {\r\n            const errorData = error.response.data || `${error.response.status}: ${error.response.statusText}`\r\n            enqueueSnackbar({\r\n                message: errorData,\r\n                options: {\r\n                    key: new Date().getTime() + Math.random(),\r\n                    variant: 'error',\r\n                    persist: true,\r\n                    action: (key) => (\r\n                        <Button style={{ color: 'white' }} onClick={() => closeSnackbar(key)}>\r\n                            <IconX />\r\n                        </Button>\r\n                    )\r\n                }\r\n            })\r\n        }\r\n    }\r\n\r\n    const handleDelete = async () => {\r\n        setAnchorEl(null)\r\n        const confirmPayload = {\r\n            title: `Delete`,\r\n            description: `Delete chatflow ${chatflow.name}?`,\r\n            confirmButtonName: 'Delete',\r\n            cancelButtonName: 'Cancel'\r\n        }\r\n        const isConfirmed = await confirm(confirmPayload)\r\n\r\n        if (isConfirmed) {\r\n            try {\r\n                await chatflowsApi.deleteChatflow(chatflow.id)\r\n                await updateFlowsApi.request()\r\n            } catch (error) {\r\n                const errorData = error.response.data || `${error.response.status}: ${error.response.statusText}`\r\n                enqueueSnackbar({\r\n                    message: errorData,\r\n                    options: {\r\n                        key: new Date().getTime() + Math.random(),\r\n                        variant: 'error',\r\n                        persist: true,\r\n                        action: (key) => (\r\n                            <Button style={{ color: 'white' }} onClick={() => closeSnackbar(key)}>\r\n                                <IconX />\r\n                            </Button>\r\n                        )\r\n                    }\r\n                })\r\n            }\r\n        }\r\n    }\r\n\r\n    const handleDuplicate = () => {\r\n        setAnchorEl(null)\r\n        try {\r\n            localStorage.setItem('duplicatedFlowData', chatflow.flowData)\r\n            window.open(`${uiBaseURL}/canvas`, '_blank')\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    const handleExport = () => {\r\n        setAnchorEl(null)\r\n        try {\r\n            const flowData = JSON.parse(chatflow.flowData)\r\n            let dataStr = JSON.stringify(generateExportFlowData(flowData), null, 2)\r\n            let dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr)\r\n\r\n            let exportFileDefaultName = `${chatflow.name} Chatflow.json`\r\n\r\n            let linkElement = document.createElement('a')\r\n            linkElement.setAttribute('href', dataUri)\r\n            linkElement.setAttribute('download', exportFileDefaultName)\r\n            linkElement.click()\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n    }\r\n\r\n    return (\r\n        <div>\r\n            <Button\r\n                id='demo-customized-button'\r\n                aria-controls={open ? 'demo-customized-menu' : undefined}\r\n                aria-haspopup='true'\r\n                aria-expanded={open ? 'true' : undefined}\r\n                disableElevation\r\n                onClick={handleClick}\r\n                endIcon={<KeyboardArrowDownIcon />}\r\n            >\r\n                Options\r\n            </Button>\r\n            <StyledMenu\r\n                id='demo-customized-menu'\r\n                MenuListProps={{\r\n                    'aria-labelledby': 'demo-customized-button'\r\n                }}\r\n                anchorEl={anchorEl}\r\n                open={open}\r\n                onClose={handleClose}\r\n            >\r\n                <MenuItem onClick={handleFlowRename} disableRipple>\r\n                    <EditIcon />\r\n                    Rename\r\n                </MenuItem>\r\n                <MenuItem onClick={handleDuplicate} disableRipple>\r\n                    <FileCopyIcon />\r\n                    Duplicate\r\n                </MenuItem>\r\n                <MenuItem onClick={handleExport} disableRipple>\r\n                    <FileDownloadIcon />\r\n                    Export\r\n                </MenuItem>\r\n                <Divider sx={{ my: 0.5 }} />\r\n                <MenuItem onClick={handleFlowStarterPrompts} disableRipple>\r\n                    <PictureInPictureAltIcon />\r\n                    Starter Prompts\r\n                </MenuItem>\r\n                <MenuItem onClick={handleFlowCategory} disableRipple>\r\n                    <FileCategoryIcon />\r\n                    Update Category\r\n                </MenuItem>\r\n                <Divider sx={{ my: 0.5 }} />\r\n                <MenuItem onClick={handleDelete} disableRipple>\r\n                    <FileDeleteIcon />\r\n                    Delete\r\n                </MenuItem>\r\n            </StyledMenu>\r\n            <SaveChatflowDialog\r\n                show={flowDialogOpen}\r\n                dialogProps={{\r\n                    title: `Rename Chatflow`,\r\n                    confirmButtonName: 'Rename',\r\n                    cancelButtonName: 'Cancel'\r\n                }}\r\n                onCancel={() => setFlowDialogOpen(false)}\r\n                onConfirm={saveFlowRename}\r\n            />\r\n            <TagDialog\r\n                isOpen={categoryDialogOpen}\r\n                dialogProps={categoryDialogProps}\r\n                onClose={() => setCategoryDialogOpen(false)}\r\n                onSubmit={saveFlowCategory}\r\n            />\r\n            <StarterPromptsDialog\r\n                show={conversationStartersDialogOpen}\r\n                dialogProps={conversationStartersDialogProps}\r\n                onConfirm={saveFlowStarterPrompts}\r\n                onCancel={() => setConversationStartersDialogOpen(false)}\r\n            />\r\n        </div>\r\n    )\r\n}\r\n\r\nFlowListMenu.propTypes = {\r\n    chatflow: PropTypes.object,\r\n    updateFlowsApi: PropTypes.object\r\n}\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}