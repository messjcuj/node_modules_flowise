{"ast":null,"code":"import{createPortal}from'react-dom';import{useDispatch}from'react-redux';import{useState,useEffect}from'react';import{Dialog,DialogContent}from'@mui/material';import PerfectScrollbar from'react-perfect-scrollbar';import NodeInputHandler from'views/canvas/NodeInputHandler';import{HIDE_CANVAS_DIALOG,SHOW_CANVAS_DIALOG}from'store/actions';import{jsx as _jsx}from\"react/jsx-runtime\";const AdditionalParamsDialog=_ref=>{let{show,dialogProps,onCancel}=_ref;const portalElement=document.getElementById('portal');const dispatch=useDispatch();const[inputParams,setInputParams]=useState([]);const[data,setData]=useState({});useEffect(()=>{if(dialogProps.inputParams)setInputParams(dialogProps.inputParams);if(dialogProps.data)setData(dialogProps.data);return()=>{setInputParams([]);setData({});};},[dialogProps]);useEffect(()=>{if(show)dispatch({type:SHOW_CANVAS_DIALOG});else dispatch({type:HIDE_CANVAS_DIALOG});return()=>dispatch({type:HIDE_CANVAS_DIALOG});},[show,dispatch]);const component=show?/*#__PURE__*/_jsx(Dialog,{onClose:onCancel,open:show,fullWidth:true,maxWidth:\"sm\",\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(PerfectScrollbar,{style:{height:'100%',maxHeight:'calc(100vh - 220px)',overflowX:'hidden'},children:inputParams.map((inputParam,index)=>/*#__PURE__*/_jsx(NodeInputHandler,{disabled:dialogProps.disabled,inputParam:inputParam,data:data,isAdditionalParams:true},index))})})}):null;return/*#__PURE__*/createPortal(component,portalElement);};export default AdditionalParamsDialog;","map":{"version":3,"names":["createPortal","useDispatch","useState","useEffect","Dialog","DialogContent","PerfectScrollbar","NodeInputHandler","HIDE_CANVAS_DIALOG","SHOW_CANVAS_DIALOG","jsx","_jsx","AdditionalParamsDialog","_ref","show","dialogProps","onCancel","portalElement","document","getElementById","dispatch","inputParams","setInputParams","data","setData","type","component","onClose","open","fullWidth","maxWidth","children","style","height","maxHeight","overflowX","map","inputParam","index","disabled","isAdditionalParams"],"sources":["D:/Flowise/packages/ui/src/ui-component/dialog/AdditionalParamsDialog.js"],"sourcesContent":["import { createPortal } from 'react-dom'\r\nimport { useDispatch } from 'react-redux'\r\nimport { useState, useEffect } from 'react'\r\nimport PropTypes from 'prop-types'\r\nimport { Dialog, DialogContent } from '@mui/material'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport NodeInputHandler from 'views/canvas/NodeInputHandler'\r\nimport { HIDE_CANVAS_DIALOG, SHOW_CANVAS_DIALOG } from 'store/actions'\r\n\r\nconst AdditionalParamsDialog = ({ show, dialogProps, onCancel }) => {\r\n    const portalElement = document.getElementById('portal')\r\n    const dispatch = useDispatch()\r\n\r\n    const [inputParams, setInputParams] = useState([])\r\n    const [data, setData] = useState({})\r\n\r\n    useEffect(() => {\r\n        if (dialogProps.inputParams) setInputParams(dialogProps.inputParams)\r\n        if (dialogProps.data) setData(dialogProps.data)\r\n\r\n        return () => {\r\n            setInputParams([])\r\n            setData({})\r\n        }\r\n    }, [dialogProps])\r\n\r\n    useEffect(() => {\r\n        if (show) dispatch({ type: SHOW_CANVAS_DIALOG })\r\n        else dispatch({ type: HIDE_CANVAS_DIALOG })\r\n        return () => dispatch({ type: HIDE_CANVAS_DIALOG })\r\n    }, [show, dispatch])\r\n\r\n    const component = show ? (\r\n        <Dialog\r\n            onClose={onCancel}\r\n            open={show}\r\n            fullWidth\r\n            maxWidth='sm'\r\n            aria-labelledby='alert-dialog-title'\r\n            aria-describedby='alert-dialog-description'\r\n        >\r\n            <DialogContent>\r\n                <PerfectScrollbar\r\n                    style={{\r\n                        height: '100%',\r\n                        maxHeight: 'calc(100vh - 220px)',\r\n                        overflowX: 'hidden'\r\n                    }}\r\n                >\r\n                    {inputParams.map((inputParam, index) => (\r\n                        <NodeInputHandler\r\n                            disabled={dialogProps.disabled}\r\n                            key={index}\r\n                            inputParam={inputParam}\r\n                            data={data}\r\n                            isAdditionalParams={true}\r\n                        />\r\n                    ))}\r\n                </PerfectScrollbar>\r\n            </DialogContent>\r\n        </Dialog>\r\n    ) : null\r\n\r\n    return createPortal(component, portalElement)\r\n}\r\n\r\nAdditionalParamsDialog.propTypes = {\r\n    show: PropTypes.bool,\r\n    dialogProps: PropTypes.object,\r\n    onCancel: PropTypes.func\r\n}\r\n\r\nexport default AdditionalParamsDialog\r\n"],"mappings":"AAAA,OAASA,YAAY,KAAQ,WAAW,CACxC,OAASC,WAAW,KAAQ,aAAa,CACzC,OAASC,QAAQ,CAAEC,SAAS,KAAQ,OAAO,CAE3C,OAASC,MAAM,CAAEC,aAAa,KAAQ,eAAe,CACrD,MAAO,CAAAC,gBAAgB,KAAM,yBAAyB,CACtD,MAAO,CAAAC,gBAAgB,KAAM,+BAA+B,CAC5D,OAASC,kBAAkB,CAAEC,kBAAkB,KAAQ,eAAe,QAAAC,GAAA,IAAAC,IAAA,yBAEtE,KAAM,CAAAC,sBAAsB,CAAGC,IAAA,EAAqC,IAApC,CAAEC,IAAI,CAAEC,WAAW,CAAEC,QAAS,CAAC,CAAAH,IAAA,CAC3D,KAAM,CAAAI,aAAa,CAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CACvD,KAAM,CAAAC,QAAQ,CAAGnB,WAAW,CAAC,CAAC,CAE9B,KAAM,CAACoB,WAAW,CAAEC,cAAc,CAAC,CAAGpB,QAAQ,CAAC,EAAE,CAAC,CAClD,KAAM,CAACqB,IAAI,CAAEC,OAAO,CAAC,CAAGtB,QAAQ,CAAC,CAAC,CAAC,CAAC,CAEpCC,SAAS,CAAC,IAAM,CACZ,GAAIY,WAAW,CAACM,WAAW,CAAEC,cAAc,CAACP,WAAW,CAACM,WAAW,CAAC,CACpE,GAAIN,WAAW,CAACQ,IAAI,CAAEC,OAAO,CAACT,WAAW,CAACQ,IAAI,CAAC,CAE/C,MAAO,IAAM,CACTD,cAAc,CAAC,EAAE,CAAC,CAClBE,OAAO,CAAC,CAAC,CAAC,CAAC,CACf,CAAC,CACL,CAAC,CAAE,CAACT,WAAW,CAAC,CAAC,CAEjBZ,SAAS,CAAC,IAAM,CACZ,GAAIW,IAAI,CAAEM,QAAQ,CAAC,CAAEK,IAAI,CAAEhB,kBAAmB,CAAC,CAAC,KAC3C,CAAAW,QAAQ,CAAC,CAAEK,IAAI,CAAEjB,kBAAmB,CAAC,CAAC,CAC3C,MAAO,IAAMY,QAAQ,CAAC,CAAEK,IAAI,CAAEjB,kBAAmB,CAAC,CAAC,CACvD,CAAC,CAAE,CAACM,IAAI,CAAEM,QAAQ,CAAC,CAAC,CAEpB,KAAM,CAAAM,SAAS,CAAGZ,IAAI,cAClBH,IAAA,CAACP,MAAM,EACHuB,OAAO,CAAEX,QAAS,CAClBY,IAAI,CAAEd,IAAK,CACXe,SAAS,MACTC,QAAQ,CAAC,IAAI,CACb,kBAAgB,oBAAoB,CACpC,mBAAiB,0BAA0B,CAAAC,QAAA,cAE3CpB,IAAA,CAACN,aAAa,EAAA0B,QAAA,cACVpB,IAAA,CAACL,gBAAgB,EACb0B,KAAK,CAAE,CACHC,MAAM,CAAE,MAAM,CACdC,SAAS,CAAE,qBAAqB,CAChCC,SAAS,CAAE,QACf,CAAE,CAAAJ,QAAA,CAEDV,WAAW,CAACe,GAAG,CAAC,CAACC,UAAU,CAAEC,KAAK,gBAC/B3B,IAAA,CAACJ,gBAAgB,EACbgC,QAAQ,CAAExB,WAAW,CAACwB,QAAS,CAE/BF,UAAU,CAAEA,UAAW,CACvBd,IAAI,CAAEA,IAAK,CACXiB,kBAAkB,CAAE,IAAK,EAHpBF,KAIR,CACJ,CAAC,CACY,CAAC,CACR,CAAC,CACZ,CAAC,CACT,IAAI,CAER,mBAAOtC,YAAY,CAAC0B,SAAS,CAAET,aAAa,CAAC,CACjD,CAAC,CAQD,cAAe,CAAAL,sBAAsB"},"metadata":{},"sourceType":"module","externalDependencies":[]}