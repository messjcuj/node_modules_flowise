{"ast":null,"code":"import{useEffect}from'react';import{createPortal}from'react-dom';import{useSelector,useDispatch}from'react-redux';import{Dialog,DialogContent,DialogTitle}from'@mui/material';import PerfectScrollbar from'react-perfect-scrollbar';import{JsonEditorInput}from'ui-component/json/JsonEditor';import{HIDE_CANVAS_DIALOG,SHOW_CANVAS_DIALOG}from'store/actions';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";const FormatPromptValuesDialog=_ref=>{let{show,dialogProps,onChange,onCancel}=_ref;const portalElement=document.getElementById('portal');const customization=useSelector(state=>state.customization);const dispatch=useDispatch();useEffect(()=>{if(show)dispatch({type:SHOW_CANVAS_DIALOG});else dispatch({type:HIDE_CANVAS_DIALOG});return()=>dispatch({type:HIDE_CANVAS_DIALOG});},[show,dispatch]);const component=show?/*#__PURE__*/_jsxs(Dialog,{onClose:onCancel,open:show,fullWidth:true,maxWidth:\"sm\",\"aria-labelledby\":\"alert-dialog-title\",\"aria-describedby\":\"alert-dialog-description\",children:[/*#__PURE__*/_jsx(DialogTitle,{sx:{fontSize:'1rem'},id:\"alert-dialog-title\",children:\"Format Prompt Values\"}),/*#__PURE__*/_jsx(DialogContent,{children:/*#__PURE__*/_jsx(PerfectScrollbar,{style:{height:'100%',maxHeight:'calc(100vh - 220px)',overflowX:'hidden'},children:/*#__PURE__*/_jsx(JsonEditorInput,{onChange:newValue=>onChange(newValue),value:dialogProps.value,isDarkMode:customization.isDarkMode,inputParam:dialogProps.inputParam,nodes:dialogProps.nodes,edges:dialogProps.edges,nodeId:dialogProps.nodeId})})})]}):null;return/*#__PURE__*/createPortal(component,portalElement);};export default FormatPromptValuesDialog;","map":{"version":3,"names":["useEffect","createPortal","useSelector","useDispatch","Dialog","DialogContent","DialogTitle","PerfectScrollbar","JsonEditorInput","HIDE_CANVAS_DIALOG","SHOW_CANVAS_DIALOG","jsx","_jsx","jsxs","_jsxs","FormatPromptValuesDialog","_ref","show","dialogProps","onChange","onCancel","portalElement","document","getElementById","customization","state","dispatch","type","component","onClose","open","fullWidth","maxWidth","children","sx","fontSize","id","style","height","maxHeight","overflowX","newValue","value","isDarkMode","inputParam","nodes","edges","nodeId"],"sources":["D:/Flowise/packages/ui/src/ui-component/dialog/FormatPromptValuesDialog.js"],"sourcesContent":["import { useEffect } from 'react'\r\nimport { createPortal } from 'react-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport PropTypes from 'prop-types'\r\nimport { Dialog, DialogContent, DialogTitle } from '@mui/material'\r\nimport PerfectScrollbar from 'react-perfect-scrollbar'\r\nimport { JsonEditorInput } from 'ui-component/json/JsonEditor'\r\nimport { HIDE_CANVAS_DIALOG, SHOW_CANVAS_DIALOG } from 'store/actions'\r\n\r\nconst FormatPromptValuesDialog = ({ show, dialogProps, onChange, onCancel }) => {\r\n    const portalElement = document.getElementById('portal')\r\n    const customization = useSelector((state) => state.customization)\r\n    const dispatch = useDispatch()\r\n\r\n    useEffect(() => {\r\n        if (show) dispatch({ type: SHOW_CANVAS_DIALOG })\r\n        else dispatch({ type: HIDE_CANVAS_DIALOG })\r\n        return () => dispatch({ type: HIDE_CANVAS_DIALOG })\r\n    }, [show, dispatch])\r\n\r\n    const component = show ? (\r\n        <Dialog\r\n            onClose={onCancel}\r\n            open={show}\r\n            fullWidth\r\n            maxWidth='sm'\r\n            aria-labelledby='alert-dialog-title'\r\n            aria-describedby='alert-dialog-description'\r\n        >\r\n            <DialogTitle sx={{ fontSize: '1rem' }} id='alert-dialog-title'>\r\n                Format Prompt Values\r\n            </DialogTitle>\r\n            <DialogContent>\r\n                <PerfectScrollbar\r\n                    style={{\r\n                        height: '100%',\r\n                        maxHeight: 'calc(100vh - 220px)',\r\n                        overflowX: 'hidden'\r\n                    }}\r\n                >\r\n                    <JsonEditorInput\r\n                        onChange={(newValue) => onChange(newValue)}\r\n                        value={dialogProps.value}\r\n                        isDarkMode={customization.isDarkMode}\r\n                        inputParam={dialogProps.inputParam}\r\n                        nodes={dialogProps.nodes}\r\n                        edges={dialogProps.edges}\r\n                        nodeId={dialogProps.nodeId}\r\n                    />\r\n                </PerfectScrollbar>\r\n            </DialogContent>\r\n        </Dialog>\r\n    ) : null\r\n\r\n    return createPortal(component, portalElement)\r\n}\r\n\r\nFormatPromptValuesDialog.propTypes = {\r\n    show: PropTypes.bool,\r\n    dialogProps: PropTypes.object,\r\n    onChange: PropTypes.func,\r\n    onCancel: PropTypes.func\r\n}\r\n\r\nexport default FormatPromptValuesDialog\r\n"],"mappings":"AAAA,OAASA,SAAS,KAAQ,OAAO,CACjC,OAASC,YAAY,KAAQ,WAAW,CACxC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CAEtD,OAASC,MAAM,CAAEC,aAAa,CAAEC,WAAW,KAAQ,eAAe,CAClE,MAAO,CAAAC,gBAAgB,KAAM,yBAAyB,CACtD,OAASC,eAAe,KAAQ,8BAA8B,CAC9D,OAASC,kBAAkB,CAAEC,kBAAkB,KAAQ,eAAe,QAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAEtE,KAAM,CAAAC,wBAAwB,CAAGC,IAAA,EAA+C,IAA9C,CAAEC,IAAI,CAAEC,WAAW,CAAEC,QAAQ,CAAEC,QAAS,CAAC,CAAAJ,IAAA,CACvE,KAAM,CAAAK,aAAa,CAAGC,QAAQ,CAACC,cAAc,CAAC,QAAQ,CAAC,CACvD,KAAM,CAAAC,aAAa,CAAGtB,WAAW,CAAEuB,KAAK,EAAKA,KAAK,CAACD,aAAa,CAAC,CACjE,KAAM,CAAAE,QAAQ,CAAGvB,WAAW,CAAC,CAAC,CAE9BH,SAAS,CAAC,IAAM,CACZ,GAAIiB,IAAI,CAAES,QAAQ,CAAC,CAAEC,IAAI,CAAEjB,kBAAmB,CAAC,CAAC,KAC3C,CAAAgB,QAAQ,CAAC,CAAEC,IAAI,CAAElB,kBAAmB,CAAC,CAAC,CAC3C,MAAO,IAAMiB,QAAQ,CAAC,CAAEC,IAAI,CAAElB,kBAAmB,CAAC,CAAC,CACvD,CAAC,CAAE,CAACQ,IAAI,CAAES,QAAQ,CAAC,CAAC,CAEpB,KAAM,CAAAE,SAAS,CAAGX,IAAI,cAClBH,KAAA,CAACV,MAAM,EACHyB,OAAO,CAAET,QAAS,CAClBU,IAAI,CAAEb,IAAK,CACXc,SAAS,MACTC,QAAQ,CAAC,IAAI,CACb,kBAAgB,oBAAoB,CACpC,mBAAiB,0BAA0B,CAAAC,QAAA,eAE3CrB,IAAA,CAACN,WAAW,EAAC4B,EAAE,CAAE,CAAEC,QAAQ,CAAE,MAAO,CAAE,CAACC,EAAE,CAAC,oBAAoB,CAAAH,QAAA,CAAC,sBAE/D,CAAa,CAAC,cACdrB,IAAA,CAACP,aAAa,EAAA4B,QAAA,cACVrB,IAAA,CAACL,gBAAgB,EACb8B,KAAK,CAAE,CACHC,MAAM,CAAE,MAAM,CACdC,SAAS,CAAE,qBAAqB,CAChCC,SAAS,CAAE,QACf,CAAE,CAAAP,QAAA,cAEFrB,IAAA,CAACJ,eAAe,EACZW,QAAQ,CAAGsB,QAAQ,EAAKtB,QAAQ,CAACsB,QAAQ,CAAE,CAC3CC,KAAK,CAAExB,WAAW,CAACwB,KAAM,CACzBC,UAAU,CAAEnB,aAAa,CAACmB,UAAW,CACrCC,UAAU,CAAE1B,WAAW,CAAC0B,UAAW,CACnCC,KAAK,CAAE3B,WAAW,CAAC2B,KAAM,CACzBC,KAAK,CAAE5B,WAAW,CAAC4B,KAAM,CACzBC,MAAM,CAAE7B,WAAW,CAAC6B,MAAO,CAC9B,CAAC,CACY,CAAC,CACR,CAAC,EACZ,CAAC,CACT,IAAI,CAER,mBAAO9C,YAAY,CAAC2B,SAAS,CAAEP,aAAa,CAAC,CACjD,CAAC,CASD,cAAe,CAAAN,wBAAwB"},"metadata":{},"sourceType":"module","externalDependencies":[]}