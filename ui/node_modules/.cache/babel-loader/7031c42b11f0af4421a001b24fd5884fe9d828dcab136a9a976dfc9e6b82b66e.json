{"ast":null,"code":"import{useNavigate}from'react-router-dom';import{useSelector,useDispatch}from'react-redux';import{useEffect,useRef,useState}from'react';// material-ui\nimport{useTheme}from'@mui/material/styles';import{Avatar,Box,ButtonBase,Typography,Stack,TextField}from'@mui/material';// icons\nimport{IconSettings,IconChevronLeft,IconDeviceFloppy,IconPencil,IconCheck,IconX,IconCode}from'@tabler/icons';// project imports\nimport Settings from'views/settings';import SaveChatflowDialog from'ui-component/dialog/SaveChatflowDialog';import APICodeDialog from'views/chatflows/APICodeDialog';import AnalyseFlowDialog from'ui-component/dialog/AnalyseFlowDialog';import ViewMessagesDialog from'ui-component/dialog/ViewMessagesDialog';import StarterPromptsDialog from'ui-component/dialog/StarterPromptsDialog';// API\nimport chatflowsApi from'api/chatflows';// Hooks\nimport useApi from'hooks/useApi';// utils\nimport{generateExportFlowData}from'utils/genericHelper';import{uiBaseURL}from'store/constant';import{SET_CHATFLOW}from'store/actions';// ==============================|| CANVAS HEADER ||============================== //\nimport{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";const CanvasHeader=_ref=>{let{chatflow,handleSaveFlow,handleDeleteFlow,handleLoadFlow}=_ref;const theme=useTheme();const dispatch=useDispatch();const navigate=useNavigate();const flowNameRef=useRef();const settingsRef=useRef();const[isEditingFlowName,setEditingFlowName]=useState(null);const[flowName,setFlowName]=useState('');const[isSettingsOpen,setSettingsOpen]=useState(false);const[flowDialogOpen,setFlowDialogOpen]=useState(false);const[apiDialogOpen,setAPIDialogOpen]=useState(false);const[apiDialogProps,setAPIDialogProps]=useState({});const[analyseDialogOpen,setAnalyseDialogOpen]=useState(false);const[analyseDialogProps,setAnalyseDialogProps]=useState({});const[conversationStartersDialogOpen,setConversationStartersDialogOpen]=useState(false);const[conversationStartersDialogProps,setConversationStartersDialogProps]=useState({});const[viewMessagesDialogOpen,setViewMessagesDialogOpen]=useState(false);const[viewMessagesDialogProps,setViewMessagesDialogProps]=useState({});const updateChatflowApi=useApi(chatflowsApi.updateChatflow);const canvas=useSelector(state=>state.canvas);const onSettingsItemClick=setting=>{setSettingsOpen(false);if(setting==='deleteChatflow'){handleDeleteFlow();}else if(setting==='conversationStarters'){setConversationStartersDialogProps({title:'Starter Prompts - '+chatflow.name,chatflow:chatflow});setConversationStartersDialogOpen(true);}else if(setting==='analyseChatflow'){setAnalyseDialogProps({title:'Analyse Chatflow',chatflow:chatflow});setAnalyseDialogOpen(true);}else if(setting==='viewMessages'){setViewMessagesDialogProps({title:'View Messages',chatflow:chatflow});setViewMessagesDialogOpen(true);}else if(setting==='duplicateChatflow'){try{localStorage.setItem('duplicatedFlowData',chatflow.flowData);window.open(\"\".concat(uiBaseURL,\"/canvas\"),'_blank');}catch(e){console.error(e);}}else if(setting==='exportChatflow'){try{const flowData=JSON.parse(chatflow.flowData);let dataStr=JSON.stringify(generateExportFlowData(flowData),null,2);let dataUri='data:application/json;charset=utf-8,'+encodeURIComponent(dataStr);let exportFileDefaultName=\"\".concat(chatflow.name,\" Chatflow.json\");let linkElement=document.createElement('a');linkElement.setAttribute('href',dataUri);linkElement.setAttribute('download',exportFileDefaultName);linkElement.click();}catch(e){console.error(e);}}};const onUploadFile=file=>{setSettingsOpen(false);handleLoadFlow(file);};const submitFlowName=()=>{if(chatflow.id){const updateBody={name:flowNameRef.current.value};updateChatflowApi.request(chatflow.id,updateBody);}};const onAPIDialogClick=()=>{// If file type is file, isFormDataRequired = true\nlet isFormDataRequired=false;try{const flowData=JSON.parse(chatflow.flowData);const nodes=flowData.nodes;for(const node of nodes){if(node.data.inputParams.find(param=>param.type==='file')){isFormDataRequired=true;break;}}}catch(e){console.error(e);}// If sessionId memory, isSessionMemory = true\nlet isSessionMemory=false;try{const flowData=JSON.parse(chatflow.flowData);const nodes=flowData.nodes;for(const node of nodes){if(node.data.inputParams.find(param=>param.name==='sessionId')){isSessionMemory=true;break;}}}catch(e){console.error(e);}setAPIDialogProps({title:'Embed in website or use as API',chatflowid:chatflow.id,chatflowApiKeyId:chatflow.apikeyid,isFormDataRequired,isSessionMemory});setAPIDialogOpen(true);};const onSaveChatflowClick=()=>{if(chatflow.id)handleSaveFlow(flowName);else setFlowDialogOpen(true);};const onConfirmSaveName=flowName=>{setFlowDialogOpen(false);handleSaveFlow(flowName);};useEffect(()=>{if(updateChatflowApi.data){setFlowName(updateChatflowApi.data.name);dispatch({type:SET_CHATFLOW,chatflow:updateChatflowApi.data});}setEditingFlowName(false);// eslint-disable-next-line react-hooks/exhaustive-deps\n},[updateChatflowApi.data]);useEffect(()=>{if(chatflow){setFlowName(chatflow.name);}},[chatflow]);return/*#__PURE__*/_jsxs(_Fragment,{children:[/*#__PURE__*/_jsx(Box,{children:/*#__PURE__*/_jsx(ButtonBase,{title:\"Back\",sx:{borderRadius:'50%'},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:{...theme.typography.commonAvatar,...theme.typography.mediumAvatar,transition:'all .2s ease-in-out',background:theme.palette.secondary.light,color:theme.palette.secondary.dark,'&:hover':{background:theme.palette.secondary.dark,color:theme.palette.secondary.light}},color:\"inherit\",onClick:()=>window.history.state&&window.history.state.idx>0?navigate(-1):navigate('/',{replace:true}),children:/*#__PURE__*/_jsx(IconChevronLeft,{stroke:1.5,size:\"1.3rem\"})})})}),/*#__PURE__*/_jsxs(Box,{sx:{flexGrow:1},children:[!isEditingFlowName&&/*#__PURE__*/_jsxs(Stack,{flexDirection:\"row\",children:[/*#__PURE__*/_jsxs(Typography,{sx:{fontSize:'1.5rem',fontWeight:600,ml:2},children:[canvas.isDirty&&/*#__PURE__*/_jsx(\"strong\",{style:{color:theme.palette.orange.main},children:\"*\"}),\" \",flowName]}),(chatflow===null||chatflow===void 0?void 0:chatflow.id)&&/*#__PURE__*/_jsx(ButtonBase,{title:\"Edit Name\",sx:{borderRadius:'50%'},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:{...theme.typography.commonAvatar,...theme.typography.mediumAvatar,transition:'all .2s ease-in-out',ml:1,background:theme.palette.secondary.light,color:theme.palette.secondary.dark,'&:hover':{background:theme.palette.secondary.dark,color:theme.palette.secondary.light}},color:\"inherit\",onClick:()=>setEditingFlowName(true),children:/*#__PURE__*/_jsx(IconPencil,{stroke:1.5,size:\"1.3rem\"})})})]}),isEditingFlowName&&/*#__PURE__*/_jsxs(Stack,{flexDirection:\"row\",children:[/*#__PURE__*/_jsx(TextField,{size:\"small\",inputRef:flowNameRef,sx:{width:'50%',ml:2},defaultValue:flowName}),/*#__PURE__*/_jsx(ButtonBase,{title:\"Save Name\",sx:{borderRadius:'50%'},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:{...theme.typography.commonAvatar,...theme.typography.mediumAvatar,transition:'all .2s ease-in-out',background:theme.palette.success.light,color:theme.palette.success.dark,ml:1,'&:hover':{background:theme.palette.success.dark,color:theme.palette.success.light}},color:\"inherit\",onClick:submitFlowName,children:/*#__PURE__*/_jsx(IconCheck,{stroke:1.5,size:\"1.3rem\"})})}),/*#__PURE__*/_jsx(ButtonBase,{title:\"Cancel\",sx:{borderRadius:'50%'},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:{...theme.typography.commonAvatar,...theme.typography.mediumAvatar,transition:'all .2s ease-in-out',background:theme.palette.error.light,color:theme.palette.error.dark,ml:1,'&:hover':{background:theme.palette.error.dark,color:theme.palette.error.light}},color:\"inherit\",onClick:()=>setEditingFlowName(false),children:/*#__PURE__*/_jsx(IconX,{stroke:1.5,size:\"1.3rem\"})})})]})]}),/*#__PURE__*/_jsxs(Box,{children:[(chatflow===null||chatflow===void 0?void 0:chatflow.id)&&/*#__PURE__*/_jsx(ButtonBase,{title:\"API Endpoint\",sx:{borderRadius:'50%',mr:2},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:{...theme.typography.commonAvatar,...theme.typography.mediumAvatar,transition:'all .2s ease-in-out',background:theme.palette.canvasHeader.deployLight,color:theme.palette.canvasHeader.deployDark,'&:hover':{background:theme.palette.canvasHeader.deployDark,color:theme.palette.canvasHeader.deployLight}},color:\"inherit\",onClick:onAPIDialogClick,children:/*#__PURE__*/_jsx(IconCode,{stroke:1.5,size:\"1.3rem\"})})}),/*#__PURE__*/_jsx(ButtonBase,{title:\"Save Chatflow\",sx:{borderRadius:'50%',mr:2},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:{...theme.typography.commonAvatar,...theme.typography.mediumAvatar,transition:'all .2s ease-in-out',background:theme.palette.canvasHeader.saveLight,color:theme.palette.canvasHeader.saveDark,'&:hover':{background:theme.palette.canvasHeader.saveDark,color:theme.palette.canvasHeader.saveLight}},color:\"inherit\",onClick:onSaveChatflowClick,children:/*#__PURE__*/_jsx(IconDeviceFloppy,{stroke:1.5,size:\"1.3rem\"})})}),/*#__PURE__*/_jsx(ButtonBase,{ref:settingsRef,title:\"Settings\",sx:{borderRadius:'50%'},children:/*#__PURE__*/_jsx(Avatar,{variant:\"rounded\",sx:{...theme.typography.commonAvatar,...theme.typography.mediumAvatar,transition:'all .2s ease-in-out',background:theme.palette.canvasHeader.settingsLight,color:theme.palette.canvasHeader.settingsDark,'&:hover':{background:theme.palette.canvasHeader.settingsDark,color:theme.palette.canvasHeader.settingsLight}},onClick:()=>setSettingsOpen(!isSettingsOpen),children:/*#__PURE__*/_jsx(IconSettings,{stroke:1.5,size:\"1.3rem\"})})})]}),/*#__PURE__*/_jsx(Settings,{chatflow:chatflow,isSettingsOpen:isSettingsOpen,anchorEl:settingsRef.current,onClose:()=>setSettingsOpen(false),onSettingsItemClick:onSettingsItemClick,onUploadFile:onUploadFile}),/*#__PURE__*/_jsx(SaveChatflowDialog,{show:flowDialogOpen,dialogProps:{title:\"Save New Chatflow\",confirmButtonName:'Save',cancelButtonName:'Cancel'},onCancel:()=>setFlowDialogOpen(false),onConfirm:onConfirmSaveName}),/*#__PURE__*/_jsx(APICodeDialog,{show:apiDialogOpen,dialogProps:apiDialogProps,onCancel:()=>setAPIDialogOpen(false)}),/*#__PURE__*/_jsx(AnalyseFlowDialog,{show:analyseDialogOpen,dialogProps:analyseDialogProps,onCancel:()=>setAnalyseDialogOpen(false)}),/*#__PURE__*/_jsx(StarterPromptsDialog,{show:conversationStartersDialogOpen,dialogProps:conversationStartersDialogProps,onConfirm:()=>setConversationStartersDialogOpen(false),onCancel:()=>setConversationStartersDialogOpen(false)}),/*#__PURE__*/_jsx(ViewMessagesDialog,{show:viewMessagesDialogOpen,dialogProps:viewMessagesDialogProps,onCancel:()=>setViewMessagesDialogOpen(false)})]});};export default CanvasHeader;","map":{"version":3,"names":["useNavigate","useSelector","useDispatch","useEffect","useRef","useState","useTheme","Avatar","Box","ButtonBase","Typography","Stack","TextField","IconSettings","IconChevronLeft","IconDeviceFloppy","IconPencil","IconCheck","IconX","IconCode","Settings","SaveChatflowDialog","APICodeDialog","AnalyseFlowDialog","ViewMessagesDialog","StarterPromptsDialog","chatflowsApi","useApi","generateExportFlowData","uiBaseURL","SET_CHATFLOW","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","CanvasHeader","_ref","chatflow","handleSaveFlow","handleDeleteFlow","handleLoadFlow","theme","dispatch","navigate","flowNameRef","settingsRef","isEditingFlowName","setEditingFlowName","flowName","setFlowName","isSettingsOpen","setSettingsOpen","flowDialogOpen","setFlowDialogOpen","apiDialogOpen","setAPIDialogOpen","apiDialogProps","setAPIDialogProps","analyseDialogOpen","setAnalyseDialogOpen","analyseDialogProps","setAnalyseDialogProps","conversationStartersDialogOpen","setConversationStartersDialogOpen","conversationStartersDialogProps","setConversationStartersDialogProps","viewMessagesDialogOpen","setViewMessagesDialogOpen","viewMessagesDialogProps","setViewMessagesDialogProps","updateChatflowApi","updateChatflow","canvas","state","onSettingsItemClick","setting","title","name","localStorage","setItem","flowData","window","open","concat","e","console","error","JSON","parse","dataStr","stringify","dataUri","encodeURIComponent","exportFileDefaultName","linkElement","document","createElement","setAttribute","click","onUploadFile","file","submitFlowName","id","updateBody","current","value","request","onAPIDialogClick","isFormDataRequired","nodes","node","data","inputParams","find","param","type","isSessionMemory","chatflowid","chatflowApiKeyId","apikeyid","onSaveChatflowClick","onConfirmSaveName","children","sx","borderRadius","variant","typography","commonAvatar","mediumAvatar","transition","background","palette","secondary","light","color","dark","onClick","history","idx","replace","stroke","size","flexGrow","flexDirection","fontSize","fontWeight","ml","isDirty","style","orange","main","inputRef","width","defaultValue","success","mr","canvasHeader","deployLight","deployDark","saveLight","saveDark","ref","settingsLight","settingsDark","anchorEl","onClose","show","dialogProps","confirmButtonName","cancelButtonName","onCancel","onConfirm"],"sources":["D:/Flowise/packages/ui/src/views/canvas/CanvasHeader.js"],"sourcesContent":["import PropTypes from 'prop-types'\r\nimport { useNavigate } from 'react-router-dom'\r\nimport { useSelector, useDispatch } from 'react-redux'\r\nimport { useEffect, useRef, useState } from 'react'\r\n\r\n// material-ui\r\nimport { useTheme } from '@mui/material/styles'\r\nimport { Avatar, Box, ButtonBase, Typography, Stack, TextField } from '@mui/material'\r\n\r\n// icons\r\nimport { IconSettings, IconChevronLeft, IconDeviceFloppy, IconPencil, IconCheck, IconX, IconCode } from '@tabler/icons'\r\n\r\n// project imports\r\nimport Settings from 'views/settings'\r\nimport SaveChatflowDialog from 'ui-component/dialog/SaveChatflowDialog'\r\nimport APICodeDialog from 'views/chatflows/APICodeDialog'\r\nimport AnalyseFlowDialog from 'ui-component/dialog/AnalyseFlowDialog'\r\nimport ViewMessagesDialog from 'ui-component/dialog/ViewMessagesDialog'\r\nimport StarterPromptsDialog from 'ui-component/dialog/StarterPromptsDialog'\r\n\r\n// API\r\nimport chatflowsApi from 'api/chatflows'\r\n\r\n// Hooks\r\nimport useApi from 'hooks/useApi'\r\n\r\n// utils\r\nimport { generateExportFlowData } from 'utils/genericHelper'\r\nimport { uiBaseURL } from 'store/constant'\r\nimport { SET_CHATFLOW } from 'store/actions'\r\n\r\n// ==============================|| CANVAS HEADER ||============================== //\r\n\r\nconst CanvasHeader = ({ chatflow, handleSaveFlow, handleDeleteFlow, handleLoadFlow }) => {\r\n    const theme = useTheme()\r\n    const dispatch = useDispatch()\r\n    const navigate = useNavigate()\r\n    const flowNameRef = useRef()\r\n    const settingsRef = useRef()\r\n\r\n    const [isEditingFlowName, setEditingFlowName] = useState(null)\r\n    const [flowName, setFlowName] = useState('')\r\n    const [isSettingsOpen, setSettingsOpen] = useState(false)\r\n    const [flowDialogOpen, setFlowDialogOpen] = useState(false)\r\n    const [apiDialogOpen, setAPIDialogOpen] = useState(false)\r\n    const [apiDialogProps, setAPIDialogProps] = useState({})\r\n    const [analyseDialogOpen, setAnalyseDialogOpen] = useState(false)\r\n    const [analyseDialogProps, setAnalyseDialogProps] = useState({})\r\n    const [conversationStartersDialogOpen, setConversationStartersDialogOpen] = useState(false)\r\n    const [conversationStartersDialogProps, setConversationStartersDialogProps] = useState({})\r\n    const [viewMessagesDialogOpen, setViewMessagesDialogOpen] = useState(false)\r\n    const [viewMessagesDialogProps, setViewMessagesDialogProps] = useState({})\r\n\r\n    const updateChatflowApi = useApi(chatflowsApi.updateChatflow)\r\n    const canvas = useSelector((state) => state.canvas)\r\n\r\n    const onSettingsItemClick = (setting) => {\r\n        setSettingsOpen(false)\r\n\r\n        if (setting === 'deleteChatflow') {\r\n            handleDeleteFlow()\r\n        } else if (setting === 'conversationStarters') {\r\n            setConversationStartersDialogProps({\r\n                title: 'Starter Prompts - ' + chatflow.name,\r\n                chatflow: chatflow\r\n            })\r\n            setConversationStartersDialogOpen(true)\r\n        } else if (setting === 'analyseChatflow') {\r\n            setAnalyseDialogProps({\r\n                title: 'Analyse Chatflow',\r\n                chatflow: chatflow\r\n            })\r\n            setAnalyseDialogOpen(true)\r\n        } else if (setting === 'viewMessages') {\r\n            setViewMessagesDialogProps({\r\n                title: 'View Messages',\r\n                chatflow: chatflow\r\n            })\r\n            setViewMessagesDialogOpen(true)\r\n        } else if (setting === 'duplicateChatflow') {\r\n            try {\r\n                localStorage.setItem('duplicatedFlowData', chatflow.flowData)\r\n                window.open(`${uiBaseURL}/canvas`, '_blank')\r\n            } catch (e) {\r\n                console.error(e)\r\n            }\r\n        } else if (setting === 'exportChatflow') {\r\n            try {\r\n                const flowData = JSON.parse(chatflow.flowData)\r\n                let dataStr = JSON.stringify(generateExportFlowData(flowData), null, 2)\r\n                let dataUri = 'data:application/json;charset=utf-8,' + encodeURIComponent(dataStr)\r\n\r\n                let exportFileDefaultName = `${chatflow.name} Chatflow.json`\r\n\r\n                let linkElement = document.createElement('a')\r\n                linkElement.setAttribute('href', dataUri)\r\n                linkElement.setAttribute('download', exportFileDefaultName)\r\n                linkElement.click()\r\n            } catch (e) {\r\n                console.error(e)\r\n            }\r\n        }\r\n    }\r\n\r\n    const onUploadFile = (file) => {\r\n        setSettingsOpen(false)\r\n        handleLoadFlow(file)\r\n    }\r\n\r\n    const submitFlowName = () => {\r\n        if (chatflow.id) {\r\n            const updateBody = {\r\n                name: flowNameRef.current.value\r\n            }\r\n            updateChatflowApi.request(chatflow.id, updateBody)\r\n        }\r\n    }\r\n\r\n    const onAPIDialogClick = () => {\r\n        // If file type is file, isFormDataRequired = true\r\n        let isFormDataRequired = false\r\n        try {\r\n            const flowData = JSON.parse(chatflow.flowData)\r\n            const nodes = flowData.nodes\r\n            for (const node of nodes) {\r\n                if (node.data.inputParams.find((param) => param.type === 'file')) {\r\n                    isFormDataRequired = true\r\n                    break\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n\r\n        // If sessionId memory, isSessionMemory = true\r\n        let isSessionMemory = false\r\n        try {\r\n            const flowData = JSON.parse(chatflow.flowData)\r\n            const nodes = flowData.nodes\r\n            for (const node of nodes) {\r\n                if (node.data.inputParams.find((param) => param.name === 'sessionId')) {\r\n                    isSessionMemory = true\r\n                    break\r\n                }\r\n            }\r\n        } catch (e) {\r\n            console.error(e)\r\n        }\r\n\r\n        setAPIDialogProps({\r\n            title: 'Embed in website or use as API',\r\n            chatflowid: chatflow.id,\r\n            chatflowApiKeyId: chatflow.apikeyid,\r\n            isFormDataRequired,\r\n            isSessionMemory\r\n        })\r\n        setAPIDialogOpen(true)\r\n    }\r\n\r\n    const onSaveChatflowClick = () => {\r\n        if (chatflow.id) handleSaveFlow(flowName)\r\n        else setFlowDialogOpen(true)\r\n    }\r\n\r\n    const onConfirmSaveName = (flowName) => {\r\n        setFlowDialogOpen(false)\r\n        handleSaveFlow(flowName)\r\n    }\r\n\r\n    useEffect(() => {\r\n        if (updateChatflowApi.data) {\r\n            setFlowName(updateChatflowApi.data.name)\r\n            dispatch({ type: SET_CHATFLOW, chatflow: updateChatflowApi.data })\r\n        }\r\n        setEditingFlowName(false)\r\n\r\n        // eslint-disable-next-line react-hooks/exhaustive-deps\r\n    }, [updateChatflowApi.data])\r\n\r\n    useEffect(() => {\r\n        if (chatflow) {\r\n            setFlowName(chatflow.name)\r\n        }\r\n    }, [chatflow])\r\n\r\n    return (\r\n        <>\r\n            <Box>\r\n                <ButtonBase title='Back' sx={{ borderRadius: '50%' }}>\r\n                    <Avatar\r\n                        variant='rounded'\r\n                        sx={{\r\n                            ...theme.typography.commonAvatar,\r\n                            ...theme.typography.mediumAvatar,\r\n                            transition: 'all .2s ease-in-out',\r\n                            background: theme.palette.secondary.light,\r\n                            color: theme.palette.secondary.dark,\r\n                            '&:hover': {\r\n                                background: theme.palette.secondary.dark,\r\n                                color: theme.palette.secondary.light\r\n                            }\r\n                        }}\r\n                        color='inherit'\r\n                        onClick={() =>\r\n                            window.history.state && window.history.state.idx > 0 ? navigate(-1) : navigate('/', { replace: true })\r\n                        }\r\n                    >\r\n                        <IconChevronLeft stroke={1.5} size='1.3rem' />\r\n                    </Avatar>\r\n                </ButtonBase>\r\n            </Box>\r\n            <Box sx={{ flexGrow: 1 }}>\r\n                {!isEditingFlowName && (\r\n                    <Stack flexDirection='row'>\r\n                        <Typography\r\n                            sx={{\r\n                                fontSize: '1.5rem',\r\n                                fontWeight: 600,\r\n                                ml: 2\r\n                            }}\r\n                        >\r\n                            {canvas.isDirty && <strong style={{ color: theme.palette.orange.main }}>*</strong>} {flowName}\r\n                        </Typography>\r\n                        {chatflow?.id && (\r\n                            <ButtonBase title='Edit Name' sx={{ borderRadius: '50%' }}>\r\n                                <Avatar\r\n                                    variant='rounded'\r\n                                    sx={{\r\n                                        ...theme.typography.commonAvatar,\r\n                                        ...theme.typography.mediumAvatar,\r\n                                        transition: 'all .2s ease-in-out',\r\n                                        ml: 1,\r\n                                        background: theme.palette.secondary.light,\r\n                                        color: theme.palette.secondary.dark,\r\n                                        '&:hover': {\r\n                                            background: theme.palette.secondary.dark,\r\n                                            color: theme.palette.secondary.light\r\n                                        }\r\n                                    }}\r\n                                    color='inherit'\r\n                                    onClick={() => setEditingFlowName(true)}\r\n                                >\r\n                                    <IconPencil stroke={1.5} size='1.3rem' />\r\n                                </Avatar>\r\n                            </ButtonBase>\r\n                        )}\r\n                    </Stack>\r\n                )}\r\n                {isEditingFlowName && (\r\n                    <Stack flexDirection='row'>\r\n                        <TextField\r\n                            size='small'\r\n                            inputRef={flowNameRef}\r\n                            sx={{\r\n                                width: '50%',\r\n                                ml: 2\r\n                            }}\r\n                            defaultValue={flowName}\r\n                        />\r\n                        <ButtonBase title='Save Name' sx={{ borderRadius: '50%' }}>\r\n                            <Avatar\r\n                                variant='rounded'\r\n                                sx={{\r\n                                    ...theme.typography.commonAvatar,\r\n                                    ...theme.typography.mediumAvatar,\r\n                                    transition: 'all .2s ease-in-out',\r\n                                    background: theme.palette.success.light,\r\n                                    color: theme.palette.success.dark,\r\n                                    ml: 1,\r\n                                    '&:hover': {\r\n                                        background: theme.palette.success.dark,\r\n                                        color: theme.palette.success.light\r\n                                    }\r\n                                }}\r\n                                color='inherit'\r\n                                onClick={submitFlowName}\r\n                            >\r\n                                <IconCheck stroke={1.5} size='1.3rem' />\r\n                            </Avatar>\r\n                        </ButtonBase>\r\n                        <ButtonBase title='Cancel' sx={{ borderRadius: '50%' }}>\r\n                            <Avatar\r\n                                variant='rounded'\r\n                                sx={{\r\n                                    ...theme.typography.commonAvatar,\r\n                                    ...theme.typography.mediumAvatar,\r\n                                    transition: 'all .2s ease-in-out',\r\n                                    background: theme.palette.error.light,\r\n                                    color: theme.palette.error.dark,\r\n                                    ml: 1,\r\n                                    '&:hover': {\r\n                                        background: theme.palette.error.dark,\r\n                                        color: theme.palette.error.light\r\n                                    }\r\n                                }}\r\n                                color='inherit'\r\n                                onClick={() => setEditingFlowName(false)}\r\n                            >\r\n                                <IconX stroke={1.5} size='1.3rem' />\r\n                            </Avatar>\r\n                        </ButtonBase>\r\n                    </Stack>\r\n                )}\r\n            </Box>\r\n            <Box>\r\n                {chatflow?.id && (\r\n                    <ButtonBase title='API Endpoint' sx={{ borderRadius: '50%', mr: 2 }}>\r\n                        <Avatar\r\n                            variant='rounded'\r\n                            sx={{\r\n                                ...theme.typography.commonAvatar,\r\n                                ...theme.typography.mediumAvatar,\r\n                                transition: 'all .2s ease-in-out',\r\n                                background: theme.palette.canvasHeader.deployLight,\r\n                                color: theme.palette.canvasHeader.deployDark,\r\n                                '&:hover': {\r\n                                    background: theme.palette.canvasHeader.deployDark,\r\n                                    color: theme.palette.canvasHeader.deployLight\r\n                                }\r\n                            }}\r\n                            color='inherit'\r\n                            onClick={onAPIDialogClick}\r\n                        >\r\n                            <IconCode stroke={1.5} size='1.3rem' />\r\n                        </Avatar>\r\n                    </ButtonBase>\r\n                )}\r\n                <ButtonBase title='Save Chatflow' sx={{ borderRadius: '50%', mr: 2 }}>\r\n                    <Avatar\r\n                        variant='rounded'\r\n                        sx={{\r\n                            ...theme.typography.commonAvatar,\r\n                            ...theme.typography.mediumAvatar,\r\n                            transition: 'all .2s ease-in-out',\r\n                            background: theme.palette.canvasHeader.saveLight,\r\n                            color: theme.palette.canvasHeader.saveDark,\r\n                            '&:hover': {\r\n                                background: theme.palette.canvasHeader.saveDark,\r\n                                color: theme.palette.canvasHeader.saveLight\r\n                            }\r\n                        }}\r\n                        color='inherit'\r\n                        onClick={onSaveChatflowClick}\r\n                    >\r\n                        <IconDeviceFloppy stroke={1.5} size='1.3rem' />\r\n                    </Avatar>\r\n                </ButtonBase>\r\n                <ButtonBase ref={settingsRef} title='Settings' sx={{ borderRadius: '50%' }}>\r\n                    <Avatar\r\n                        variant='rounded'\r\n                        sx={{\r\n                            ...theme.typography.commonAvatar,\r\n                            ...theme.typography.mediumAvatar,\r\n                            transition: 'all .2s ease-in-out',\r\n                            background: theme.palette.canvasHeader.settingsLight,\r\n                            color: theme.palette.canvasHeader.settingsDark,\r\n                            '&:hover': {\r\n                                background: theme.palette.canvasHeader.settingsDark,\r\n                                color: theme.palette.canvasHeader.settingsLight\r\n                            }\r\n                        }}\r\n                        onClick={() => setSettingsOpen(!isSettingsOpen)}\r\n                    >\r\n                        <IconSettings stroke={1.5} size='1.3rem' />\r\n                    </Avatar>\r\n                </ButtonBase>\r\n            </Box>\r\n            <Settings\r\n                chatflow={chatflow}\r\n                isSettingsOpen={isSettingsOpen}\r\n                anchorEl={settingsRef.current}\r\n                onClose={() => setSettingsOpen(false)}\r\n                onSettingsItemClick={onSettingsItemClick}\r\n                onUploadFile={onUploadFile}\r\n            />\r\n            <SaveChatflowDialog\r\n                show={flowDialogOpen}\r\n                dialogProps={{\r\n                    title: `Save New Chatflow`,\r\n                    confirmButtonName: 'Save',\r\n                    cancelButtonName: 'Cancel'\r\n                }}\r\n                onCancel={() => setFlowDialogOpen(false)}\r\n                onConfirm={onConfirmSaveName}\r\n            />\r\n            <APICodeDialog show={apiDialogOpen} dialogProps={apiDialogProps} onCancel={() => setAPIDialogOpen(false)} />\r\n            <AnalyseFlowDialog show={analyseDialogOpen} dialogProps={analyseDialogProps} onCancel={() => setAnalyseDialogOpen(false)} />\r\n            <StarterPromptsDialog\r\n                show={conversationStartersDialogOpen}\r\n                dialogProps={conversationStartersDialogProps}\r\n                onConfirm={() => setConversationStartersDialogOpen(false)}\r\n                onCancel={() => setConversationStartersDialogOpen(false)}\r\n            />\r\n            <ViewMessagesDialog\r\n                show={viewMessagesDialogOpen}\r\n                dialogProps={viewMessagesDialogProps}\r\n                onCancel={() => setViewMessagesDialogOpen(false)}\r\n            />\r\n        </>\r\n    )\r\n}\r\n\r\nCanvasHeader.propTypes = {\r\n    chatflow: PropTypes.object,\r\n    handleSaveFlow: PropTypes.func,\r\n    handleDeleteFlow: PropTypes.func,\r\n    handleLoadFlow: PropTypes.func\r\n}\r\n\r\nexport default CanvasHeader\r\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}